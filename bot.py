import logging
import sqlite3
from datetime import datetime, timedelta
from decimal import Decimal, ROUND_DOWN
import asyncio
import random

import aiohttp
from aiogram import Bot, Dispatcher, executor, types
from aiogram.types import (
    ReplyKeyboardMarkup,
    KeyboardButton,
    InlineKeyboardMarkup,
    InlineKeyboardButton,
    CallbackQuery,
)
from aiogram.contrib.middlewares.logging import LoggingMiddleware

# ---------------------------------------------------------------------------
# –ù–ê–°–¢–†–û–ô–ö–ò –ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï
# ---------------------------------------------------------------------------

BOT_TOKEN = "8330326273:AAEuWSwkqi7ypz1LZL4LXRr2jSMpKjGc36k"
ADMIN_ID = 682938643
TRONGRID_API_KEY = "b33b8d65-10c9-4f7b-99e0-ab47f3bbb60f"
WALLET_ADDRESS = "TSY9xf24bQ3Kbd1Njp2w4pEEoqJow1nfpr"
CHANNEL_ID = -1003464806734  # –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏
SUPPORT_CONTACT = "@support"  # –ª–æ–≥–∏–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∏

# TRC20 USDT –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç—å)
USDT_CONTRACT = "TXLAQ63Xg1NAzckPwKHvzw7CSEmLMEqcdj"

# –¶–ï–ù–´
PRICE_PACKAGE = 100  # –ø–µ—Ä–≤—ã–π –ø–ª–∞—Ç—ë–∂: –æ–±—É—á–µ–Ω–∏–µ + 1 –º–µ—Å—è—Ü —Å–∏–≥–Ω–∞–ª–æ–≤ + –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞
PRICE_RENEWAL = 50   # –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –º–µ—Å—è—Ü (–±–µ–∑ —Ä–µ—Ñ.–Ω–∞—á–∏—Å–ª–µ–Ω–∏–π)

# –ü–ê–†–¢–ù–Å–†–ö–ê
LEVEL1_PERCENT = 0.5   # 50% –ø–µ—Ä–≤–æ–º—É —É—Ä–æ–≤–Ω—é
LEVEL2_PERCENT = 0.1   # 10% –≤—Ç–æ—Ä–æ–º—É —É—Ä–æ–≤–Ω—é

DB_PATH = "database.db"

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

bot = Bot(token=BOT_TOKEN, parse_mode="HTML")
dp = Dispatcher(bot)
dp.middleware.setup(LoggingMiddleware())

# ---------------------------------------------------------------------------
# –ë–ê–ó–ê –î–ê–ù–ù–´–•
# ---------------------------------------------------------------------------


def db_connect():
    return sqlite3.connect(DB_PATH)


def init_db():
    conn = db_connect()
    cur = conn.cursor()

    # –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    cur.execute("""
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER UNIQUE,
            username TEXT,
            first_name TEXT,
            referrer_id INTEGER,
            balance REAL DEFAULT 0,
            total_earned REAL DEFAULT 0,
            reg_date TEXT
        )
    """)

    # –ø–æ–∫—É–ø–∫–∏ (–ø–∞–∫–µ—Ç / –ø—Ä–æ–¥–ª–µ–Ω–∏–µ)
    cur.execute("""
        CREATE TABLE IF NOT EXISTS purchases (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER,
            product_code TEXT,
            amount REAL,
            status TEXT,
            created_at TEXT,
            paid_at TEXT,
            tx_id TEXT
        )
    """)

    # –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å–∞–º: crypto / traffic
    cur.execute("""
        CREATE TABLE IF NOT EXISTS progress_new (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER,
            course TEXT,
            module_key TEXT,
            lesson_index INTEGER,
            UNIQUE(user_id, course)
        )
    """)

    # –¥–æ—Å—Ç—É–ø –∫ —Å–∏–≥–Ω–∞–ª–∞–º
    cur.execute("""
        CREATE TABLE IF NOT EXISTS signals_access (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER,
            active_until TEXT
        )
    """)

    conn.commit()
    conn.close()


# ---------- USERS ----------

def get_or_create_user(message: types.Message, referrer_id: int = None) -> int:
    user_id = message.from_user.id
    username = message.from_user.username or ""
    first_name = message.from_user.first_name or ""

    conn = db_connect()
    cur = conn.cursor()
    cur.execute("SELECT id FROM users WHERE user_id = ?", (user_id,))
    row = cur.fetchone()

    if row:
        conn.close()
        return row[0]

    reg_date = datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S")
    cur.execute(
        "INSERT INTO users (user_id, username, first_name, referrer_id, reg_date) "
        "VALUES (?, ?, ?, ?, ?)",
        (user_id, username, first_name, referrer_id, reg_date),
    )
    conn.commit()
    user_db_id = cur.lastrowid
    conn.close()
    return user_db_id


def get_user_by_tg(user_id: int):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT id, user_id, username, first_name, referrer_id, balance, total_earned "
        "FROM users WHERE user_id = ?",
        (user_id,),
    )
    row = cur.fetchone()
    conn.close()
    return row


# ---------- PURCHASES / –ü–ê–ö–ï–¢–´ ----------

def create_purchase(user_db_id: int, product_code: str, base_price: float) -> int:
    """
    –°–æ–∑–¥–∞—ë–º –ø–æ–∫—É–ø–∫—É —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é, —á—Ç–æ–±—ã –ø—Ä–æ—â–µ —Å–≤–µ—Ä—è—Ç—å –æ–ø–ª–∞—Ç—É.
    """
    unique_tail = random.randint(11, 987)  # 0.011 .. 0.987
    amount = base_price + unique_tail / 1000.0

    conn = db_connect()
    cur = conn.cursor()
    created_at = datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S")
    cur.execute(
        "INSERT INTO purchases (user_id, product_code, amount, status, created_at) "
        "VALUES (?, ?, ?, 'pending', ?)",
        (user_db_id, product_code, amount, created_at),
    )
    conn.commit()
    purchase_id = cur.lastrowid
    conn.close()
    return purchase_id


def mark_purchase_paid(purchase_id: int, tx_id: str = None):
    conn = db_connect()
    cur = conn.cursor()
    paid_at = datetime.utcnow().strftime("%Y-%m-%d %H:%M:%S")
    cur.execute(
        "UPDATE purchases SET status = 'paid', paid_at = ?, tx_id = ? WHERE id = ?",
        (paid_at, tx_id, purchase_id),
    )
    conn.commit()
    conn.close()


def has_paid_package(user_db_id: int) -> bool:
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT 1 FROM purchases WHERE user_id = ? AND product_code = 'package' AND status = 'paid' LIMIT 1",
        (user_db_id,),
    )
    row = cur.fetchone()
    conn.close()
    return bool(row)


def add_balance(user_db_id: int, amount: float):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "UPDATE users SET balance = balance + ?, total_earned = total_earned + ? WHERE id = ?",
        (amount, amount, user_db_id),
    )
    conn.commit()
    conn.close()


def get_referrer_chain(user_db_id: int):
    conn = db_connect()
    cur = conn.cursor()

    cur.execute("SELECT referrer_id FROM users WHERE id = ?", (user_db_id,))
    row = cur.fetchone()
    if not row or row[0] is None:
        conn.close()
        return None, None

    lvl1_id = row[0]

    cur.execute("SELECT referrer_id FROM users WHERE id = ?", (lvl1_id,))
    row2 = cur.fetchone()
    lvl2_id = row2[0] if row2 and row2[0] is not None else None

    conn.close()
    return lvl1_id, lvl2_id


# ---------- –ü–†–û–ì–†–ï–°–° ----------

def set_progress(user_id: int, course: str, module_key: str, lesson_index: int):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT id FROM progress_new WHERE user_id = ? AND course = ?",
        (user_id, course),
    )
    row = cur.fetchone()
    if row:
        cur.execute(
            "UPDATE progress_new SET module_key = ?, lesson_index = ? WHERE id = ?",
            (module_key, lesson_index, row[0]),
        )
    else:
        cur.execute(
            "INSERT INTO progress_new (user_id, course, module_key, lesson_index) "
            "VALUES (?, ?, ?, ?)",
            (user_id, course, module_key, lesson_index),
        )
    conn.commit()
    conn.close()


def get_progress(user_id: int, course: str):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT module_key, lesson_index FROM progress_new WHERE user_id = ? AND course = ?",
        (user_id, course),
    )
    row = cur.fetchone()
    conn.close()
    if not row:
        return None, 0
    return row[0], row[1]


# ---------- –°–ò–ì–ù–ê–õ–´ (–î–û–°–¢–£–ü) ----------

def get_signals_until(user_db_id: int):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT active_until FROM signals_access WHERE user_id = ?",
        (user_db_id,),
    )
    row = cur.fetchone()
    conn.close()
    if not row or not row[0]:
        return None
    try:
        return datetime.strptime(row[0], "%Y-%m-%d %H:%M:%S")
    except Exception:
        return None


def set_signals_until(user_db_id: int, until: datetime):
    until_str = until.strftime("%Y-%m-%d %H:%M:%S")
    conn = db_connect()
    cur = conn.cursor()
    cur.execute("SELECT id FROM signals_access WHERE user_id = ?", (user_db_id,))
    row = cur.fetchone()
    if row:
        cur.execute(
            "UPDATE signals_access SET active_until = ? WHERE id = ?",
            (until_str, row[0]),
        )
    else:
        cur.execute(
            "INSERT INTO signals_access (user_id, active_until) VALUES (?, ?)",
            (user_db_id, until_str),
        )
    conn.commit()
    conn.close()


def extend_signals(user_db_id: int, days: int = 30):
    now = datetime.utcnow()
    current_until = get_signals_until(user_db_id)
    if current_until and current_until > now:
        base = current_until
    else:
        base = now
    new_until = base + timedelta(days=days)
    set_signals_until(user_db_id, new_until)
    return new_until


# ---------------------------------------------------------------------------
# –ê–ù–¢–ò–°–ü–ê–ú
# ---------------------------------------------------------------------------

user_last_action = {}
ANTISPAM_SECONDS = 1.2


def is_spam(user_id: int) -> bool:
    now = datetime.utcnow()
    last = user_last_action.get(user_id)
    user_last_action[user_id] = now
    if not last:
        return False
    return (now - last) < timedelta(seconds=ANTISPAM_SECONDS)


# ---------------------------------------------------------------------------
# –ö–£–†–°–´
# ---------------------------------------------------------------------------

COURSE_CRYPTO = {
    "c1_mindset": (
        "–ú–æ–¥—É–ª—å 1. –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ –æ—Å–Ω–æ–≤–∞ –∫—Ä–∏–ø—Ç–æ—Ä—ã–Ω–∫–∞",
        [
            "üí° <b>–£—Ä–æ–∫ 1. –ö–∞–∫ –∑–¥–µ—Å—å —Ä–µ–∞–ª—å–Ω–æ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç</b>\n\n"
            "–ö—Ä–∏–ø—Ç–∞ ‚Äî —ç—Ç–æ –Ω–µ –∫–∞–∑–∏–Ω–æ –∏ –Ω–µ –≤–æ–ª—à–µ–±–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ¬´—É–¥–≤–æ–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç¬ª.\n\n"
            "–ó–¥–µ—Å—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ç–µ, –∫—Ç–æ:\n"
            "‚Ä¢ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ —Ä–∏—Å–∫ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å;\n"
            "‚Ä¢ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ, –∞ –Ω–µ –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é;\n"
            "‚Ä¢ –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è ¬´—É–≥–∞–¥–∞—Ç—å¬ª, –∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–π –ø–ª–∞–Ω.\n\n"
            "–ü—Ä–µ–¥—Å—Ç–∞–≤—å 100 —á–µ–ª–æ–≤–µ–∫ –Ω–∞ —Ä—ã–Ω–∫–µ:\n"
            "‚Ä¢ 70 –≤–æ–æ–±—â–µ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –¥–µ–ª–∞—é—Ç ‚Äî —Ç–æ—Ä–≥—É—é—Ç –ø–æ —ç–º–æ—Ü–∏—è–º –∏ —Å–ª—É—Ö–∞–º;\n"
            "‚Ä¢ 20 —á—Ç–æ-—Ç–æ –∏–∑—É—á–∞–ª–∏, –Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ä—É—à–∞—é—Ç —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞;\n"
            "‚Ä¢ 10 —Å–∏—Å—Ç–µ–º–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∏—Å–∫–æ–º –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π.\n\n"
            "–ó–∞–¥–∞—á–∞ —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞ ‚Äî –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–±—è –≤ —Ç–µ —Å–∞–º—ã–µ 10%. –ù–µ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å, –∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —á–µ—Ä–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä—ã–Ω–∫–∞ –∏ —Å–≤–æ–∏—Ö —Ä–µ—à–µ–Ω–∏–π.\n\n"
            "<b>–ú–∏–Ω–∏-–∑–∞–¥–∞—á–∞:</b> —á–µ—Å—Ç–Ω–æ –æ—Ç–≤–µ—Ç—å —Å–µ–±–µ ‚Äî —Ç—ã —Å–µ–π—á–∞—Å –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂ –Ω–∞ –∏–≥—Ä–æ–∫–∞, –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞ –∏–ª–∏ —Ç—Ä–µ–π–¥–µ—Ä–∞? –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤ —Ç–≤–æ—ë–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —ç—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç?",

            "üí° <b>–£—Ä–æ–∫ 2. –¢—Ä–µ–π–¥–µ—Ä vs –∏–Ω–≤–µ—Å—Ç–æ—Ä</b>\n\n"
            "üîπ <b>–¢—Ä–µ–π–¥–µ—Ä</b>:\n"
            "‚Ä¢ –¥–µ—Ä–∂–∏—Ç —Å–¥–µ–ª–∫–∏ –æ—Ç –º–∏–Ω—É—Ç –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π;\n"
            "‚Ä¢ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–ª–µ—á–∞–º–∏ (–Ω–æ —Ä–∞–∑—É–º–Ω–æ);\n"
            "‚Ä¢ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∏—Å–∫–æ–º –≤ –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏;\n"
            "‚Ä¢ –º—ã—Å–ª–∏—Ç —Å–µ—Ä–∏—è–º–∏ —Å–¥–µ–ª–æ–∫, –∞ –Ω–µ –æ–¥–Ω–æ–π ¬´—É–¥–∞—á–µ–π¬ª.\n\n"
            "üîπ <b>–ò–Ω–≤–µ—Å—Ç–æ—Ä</b>:\n"
            "‚Ä¢ –ø–æ–∫—É–ø–∞–µ—Ç –∞–∫—Ç–∏–≤—ã –Ω–∞ –º–µ—Å—è—Ü—ã/–≥–æ–¥—ã;\n"
            "‚Ä¢ –≥–æ—Ç–æ–≤ —Å–∏–¥–µ—Ç—å –≤ –ø—Ä–æ—Å–∞–¥–∫–µ -50% –∏ –±–æ–ª—å—à–µ;\n"
            "‚Ä¢ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª, —Ç—Ä–µ–Ω–¥—ã —Ä—ã–Ω–∫–∞ –∏ –Ω–æ–≤–æ—Å—Ç–∏.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "–ò–Ω–≤–µ—Å—Ç–æ—Ä –ø–æ–∫—É–ø–∞–µ—Ç BTC –Ω–∞ 1‚Äì3 –≥–æ–¥–∞, –µ–º—É –Ω–µ –≤–∞–∂–Ω–æ, –≥–¥–µ –±—É–¥–µ—Ç —Ü–µ–Ω–∞ —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é.\n"
            "–¢—Ä–µ–π–¥–µ—Ä –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–¥–µ–ª–∫—É –Ω–∞ BTC —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å—Ç–æ–ø–æ–º/—Ü–µ–ª—å—é –∏ —Å–ø–æ–∫–æ–π–Ω–æ –≤—ã–π–¥–µ—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä—É —á–∞—Å–æ–≤, –µ—Å–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç.\n\n"
            "–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ? –ï—Å–ª–∏ —Ç—ã –¥—É–º–∞–µ—à—å –∫–∞–∫ –∏–Ω–≤–µ—Å—Ç–æ—Ä, –∞ –¥–µ–π—Å—Ç–≤—É–µ—à—å –∫–∞–∫ —Ç—Ä–µ–π–¥–µ—Ä ‚Äî –±—É–¥–µ—à—å —Ä—É–±–∏—Ç—å —Ö–æ—Ä–æ—à–∏–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–∑-–∑–∞ —ç–º–æ—Ü–∏–π. –ò –Ω–∞–æ–±–æ—Ä–æ—Ç: –µ—Å–ª–∏ –¥—É–º–∞–µ—à—å –∫–∞–∫ —Ç—Ä–µ–π–¥–µ—Ä, –∞ –∑–∞—Ö–æ–¥–∏—à—å ¬´–Ω–∞ –≤—Å—ë –∏ –Ω–∞–¥–æ–ª–≥–æ¬ª ‚Äî —Ä–∏—Å–∫—É–µ—à—å –ø–æ–π–º–∞—Ç—å –æ–≥—Ä–æ–º–Ω—É—é –ø—Ä–æ—Å–∞–¥–∫—É.\n\n"
            "<b>–î–æ–º–∞—à–∫–∞:</b> —Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π, —á–µ–≥–æ —Ç—ã —Ö–æ—á–µ—à—å –∏–º–µ–Ω–Ω–æ –æ—Ç —Ç—Ä–µ–π–¥–∏–Ω–≥–∞: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥? –æ—Å–Ω–æ–≤–Ω–æ–π? –Ω–∞—É—á–∏—Ç—å—Å—è –Ω–µ —Å–ª–∏–≤–∞—Ç—å? –ó–∞–ø–∏—à–∏ —ç—Ç–æ –≤ –∑–∞–º–µ—Ç–∫–∏ ‚Äî –∫ —ç—Ç–æ–º—É –º—ã –µ—â—ë –±—É–¥–µ–º –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è.",

            "üí° <b>–£—Ä–æ–∫ 3. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –±–∏—Ä–∂–∞ –∏ —Å—Ç–∞–∫–∞–Ω –æ—Ä–¥–µ—Ä–æ–≤</b>\n\n"
            "–ë–∏—Ä–∂–∞ ‚Äî —ç—Ç–æ –ø–ª–æ—â–∞–¥–∫–∞, –≥–¥–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É.\n\n"
            "–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:\n"
            "‚Ä¢ –æ—Ä–¥–µ—Ä–±—É–∫ (—Å—Ç–∞–∫–∞–Ω) ‚Äî –æ—á–µ—Ä–µ–¥—å –ª–∏–º–∏—Ç–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤;\n"
            "‚Ä¢ —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä ‚Äî ¬´–∫—É–ø–∏—Ç—å/–ø—Ä–æ–¥–∞—Ç—å –ø–æ –ª—É—á—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ü–µ–Ω–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å¬ª;\n"
            "‚Ä¢ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ –ª–µ–≥–∫–æ –≤–æ–π—Ç–∏ –∏ –≤—ã–π—Ç–∏ –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ –±–µ–∑ —Å–∏–ª—å–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–π.\n\n"
            "–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –≤ —Å—Ç–∞–∫–∞–Ω–µ —Å—Ç–æ–∏—Ç 10 000$ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É –æ–∫–æ–ª–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –∏ –≤—Å–µ–≥–æ 500$ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É;\n"
            "‚Ä¢ –ª—é–±–∞—è –∫—Ä—É–ø–Ω–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É –ª–µ–≥–∫–æ –ø—Ä–æ—Ç–æ–ª–∫–Ω—ë—Ç —Ü–µ–Ω—É –≤–≤–µ—Ä—Ö ‚Äî –º–∞–ª–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤;\n"
            "‚Ä¢ –Ω–∞–æ–±–æ—Ä–æ—Ç, –µ—Å–ª–∏ –≤ –ø—Ä–æ–¥–∞–∂–µ –æ–≥—Ä–æ–º–Ω—ã–π –æ–±—ä—ë–º, –∞ –≤ –ø–æ–∫—É–ø–∫–∞—Ö –ø—É—Å—Ç–æ ‚Äî —Ü–µ–Ω–∞ –±—É–¥–µ—Ç –ª–µ–≥–∫–æ –ª–µ—Ç–µ—Ç—å –≤–Ω–∏–∑.\n\n"
            "–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–∞–º, –≥–¥–µ –µ—Å—Ç—å –æ–±—ä—ë–º—ã –∏ –∂–∏–≤—ã–µ –¥–µ–Ω—å–≥–∏: BTC, ETH, –∫—Ä—É–ø–Ω—ã–µ –∞–ª—å—Ç—ã, –∞ –Ω–µ —â–∏—Ç–∫–æ–∏–Ω—ã —Å –æ–±—ä—ë–º–æ–º 5$ –∏ –æ–¥–Ω–∏–º –∏–≥—Ä–æ–∫–æ–º.",

            "üí° <b>–£—Ä–æ–∫ 4. –ì–ª–∞–≤–Ω—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤</b>\n\n"
            "–¢–æ, –Ω–∞ —á—ë–º —Å–ª–∏–≤–∞—é—Ç 90%:\n"
            "‚Ä¢ –≤—Ö–æ–¥ ¬´–Ω–∞ –≤—Å—ë¬ª —Å –ø–ª–µ—á–∞–º–∏ x20+ ¬´—Ä–∞–¥–∏ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≥–æ–Ω–∞¬ª;\n"
            "‚Ä¢ —Ç–æ—Ä–≥–æ–≤–ª—è –±–µ–∑ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ ‚Äî –Ω–∞–¥–µ–∂–¥–∞ –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–∏—Å–∫–∞;\n"
            "‚Ä¢ –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç—ã–≥—Ä–∞—Ç—å—Å—è –ø–æ—Å–ª–µ —Å–µ—Ä–∏–∏ –º–∏–Ω—É—Å–æ–≤ (¬´—Å–µ–π—á–∞—Å —É–¥–≤–æ—é –æ–±—ä—ë–º –∏ –≤–µ—Ä–Ω—É –≤—Å—ë¬ª);\n"
            "‚Ä¢ –≤—Ö–æ–¥ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º –∏–∑ —á–∞—Ç–∞ –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è, –≤–æ —á—Ç–æ —Ç—ã –≤–æ–æ–±—â–µ –∑–∞–ª–µ–∑–∞–µ—à—å.\n\n"
            "–°—Ü–µ–Ω–∞—Ä–∏–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Å–ª–∏–≤–∞:\n"
            "1) —á–µ–ª–æ–≤–µ–∫ —Ä–∞–∑–≥–æ–Ω—è–µ—Ç –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ —É–¥–∞—á–µ –∏ –¥—É–º–∞–µ—Ç, —á—Ç–æ ¬´–ø–æ–Ω—è–ª —Ä—ã–Ω–æ–∫¬ª;\n"
            "2) –ª–æ–≤–∏—Ç —Å–µ—Ä–∏—é –º–∏–Ω—É—Å–æ–≤, –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å —Å–≤–æ–∏ –∂–µ –ø—Ä–∞–≤–∏–ª–∞;\n"
            "3) —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–ª–µ—á–æ –∏ –æ–±—ä—ë–º, –ø—ã—Ç–∞—è—Å—å –æ—Ç—ã–≥—Ä–∞—Ç—å—Å—è;\n"
            "4) –Ω–∞—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ —Å–µ–±—è –∏ —Ç–µ—Ä—è–µ—Ç –ª—å–≤–∏–Ω—É—é –¥–æ–ª—é –¥–µ–ø–æ–∑–∏—Ç–∞.\n\n"
            "–≠—Ç–æ—Ç –∫—É—Ä—Å –∫–∞–∫ —Ä–∞–∑ –ø—Ä–æ —Ç–æ, —á—Ç–æ–±—ã —É —Ç–µ–±—è –±—ã–ª –ø–ª–∞–Ω, –∞ –Ω–µ –∫–∞—Ä—É—Å–µ–ª—å —ç–º–æ—Ü–∏–π.",

            "üí° <b>–£—Ä–æ–∫ 5. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–π–Ω–¥—Å–µ—Ç —Ç—Ä–µ–π–¥–µ—Ä–∞</b>\n\n"
            "–¢—Ä–µ–π–¥–µ—Ä –Ω–µ –∏—â–µ—Ç ¬´—Å–¥–µ–ª–∫—É –∂–∏–∑–Ω–∏¬ª. –û–Ω —Å—Ç—Ä–æ–∏—Ç —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –∫–∞–∂–¥–∞—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–¥–µ–ª–∫–∞ ‚Äî –æ–¥–∏–Ω —à–∞–≥ –≤ —Å–µ—Ä–∏–∏.\n\n"
            "–ë–∞–∑–æ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:\n"
            "‚Ä¢ —è –≤—Å–µ–≥–¥–∞ –∑–Ω–∞—é, —Å–∫–æ–ª—å–∫–æ –º–æ–≥—É –ø–æ—Ç–µ—Ä—è—Ç—å –≤ —ç—Ç–æ–π —Å–¥–µ–ª–∫–µ;\n"
            "‚Ä¢ —è –Ω–µ –æ–±—è–∑–∞–Ω –±—ã—Ç—å –ø—Ä–∞–≤ –≤ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ;\n"
            "‚Ä¢ –º–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∏—Å–ø–æ–ª–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∞ –Ω–µ —É–≥–∞–¥–∞—Ç—å –∫–∞–∂–¥–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ;\n"
            "‚Ä¢ –≤–∞–∂–Ω–∞ –¥–∏—Å—Ç–∞–Ω—Ü–∏—è, –∞ –Ω–µ –æ–¥–∏–Ω –¥–µ–Ω—å.\n\n"
            "–ü—Ä–∏–º–µ—Ä: —É —Ç–µ–±—è 10 —Å–¥–µ–ª–æ–∫, 4 —É–±—ã—Ç–æ—á–Ω—ã–µ, 6 –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ, –Ω–æ —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å –≤ 2‚Äì3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —É–±—ã—Ç–∫–∞.\n"
            "–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Ç—ã –≤ –ø–ª—é—Å–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª –Ω–µ–ø—Ä–∞–≤ –ø–æ—á—Ç–∏ –≤ –ø–æ–ª–æ–≤–∏–Ω–µ —Å–ª—É—á–∞–µ–≤.\n\n"
            "<b>–î–æ–º–∞—à–∫–∞:</b> –ø—Ä–∏–¥—É–º–∞–π –∏ –∑–∞–ø–∏—à–∏ —Å–µ–±–µ 2‚Äì3 –ª–∏—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ç–µ–±—è —Ç–æ—Ä–º–æ–∑–∏—Ç—å –≤ –º–æ–º–µ–Ω—Ç—ã —ç–º–æ—Ü–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–µ—Å–ª–∏ –ø–æ–¥—Ä—è–¥ 3 —Å—Ç–æ–ø–∞ ‚Äî —è –±–æ–ª—å—à–µ —Å–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–æ—Ä–≥—É—é¬ª.",
        ],
    ),

    "c2_risk": (
        "–ú–æ–¥—É–ª—å 2. –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –¥–µ–ø–æ–∑–∏—Ç",
        [
            "üìä <b>–£—Ä–æ–∫ 1. –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É –∏ —Ä–∏—Å–∫ –Ω–∞ –¥–µ–Ω—å</b>\n\n"
            "–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ: 1‚Äì2% –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –Ω–∞ –æ–¥–Ω—É —Å–¥–µ–ª–∫—É.\n\n"
            "–ü—Ä–∏–º–µ—Ä: –¥–µ–ø–æ–∑–∏—Ç 1000$ ‚Üí 1% = 10$. –≠—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É–±—ã—Ç–æ–∫ –≤ –æ–¥–Ω–æ–π —Å–¥–µ–ª–∫–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ç—ã –æ—Å—Ç–∞—ë—à—å—Å—è —Å–ø–æ–∫–æ–π–Ω—ã–º.\n\n"
            "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–≤–æ–¥–∏–º <b>—Ä–∏—Å–∫ –Ω–∞ –¥–µ–Ω—å</b>:\n"
            "‚Ä¢ –Ω–∞–ø—Ä–∏–º–µ—Ä, -3% –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –∏–ª–∏ 3 –ø–æ–¥—Ä—è–¥ —É–±—ã—Ç–æ—á–Ω—ã–µ —Å–¥–µ–ª–∫–∏;\n"
            "‚Ä¢ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ç—ã <b>–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</b> –∑–∞–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è.\n\n"
            "–≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ –ø–∞—Ä—ã —Å—Ç–æ–ø–æ–≤ —Ç—ã —É–∂–µ —Ç–æ—Ä–≥—É–µ—à—å —ç–º–æ—Ü–∏—è–º–∏, –∞ –Ω–µ –≥–æ–ª–æ–≤–æ–π.\n\n"
            "<b>–ú–∏–Ω–∏-–ø—Ä–∞–∫—Ç–∏–∫–∞:</b> –∑–∞–ø–∏—à–∏ —Å–µ–±–µ –ª–∏–º–∏—Ç –Ω–∞ –¥–µ–Ω—å –∏ –ª–∏–º–∏—Ç –Ω–∞ —Å–¥–µ–ª–∫—É. –≠—Ç–æ –±—É–¥—É—Ç —Ç–≤–æ–∏ ¬´–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏¬ª.",

            "üìä <b>–£—Ä–æ–∫ 2. –ö–∞–∫ —Å—á–∏—Ç–∞—Ç—å –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏)</b>\n\n"
            "–ê–ª–≥–æ—Ä–∏—Ç–º –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ:\n"
            "1) –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å.\n"
            "2) –ü–æ—Å—á–∏—Ç–∞–π —Ä–∞–∑–º–µ—Ä —Å—Ç–æ–ø–∞ –≤ % –æ—Ç —Ü–µ–Ω—ã.\n"
            "3) –†–µ—à–∏, —Å–∫–æ–ª—å–∫–æ % –¥–µ–ø–æ–∑–∏—Ç–∞ –≥–æ—Ç–æ–≤ —Ä–∏—Å–∫–Ω—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1%).\n"
            "4) –†–∏—Å–∫ –≤ $ / —Å—Ç–æ–ø –≤ % = –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏.\n\n"
            "–ü—Ä–∏–º–µ—Ä 1 (–±–µ–∑ –ø–ª–µ—á–∞):\n"
            "‚Ä¢ –¥–µ–ø–æ–∑–∏—Ç 500$;\n"
            "‚Ä¢ —Ä–∏—Å–∫ 1% ‚Üí 5$;\n"
            "‚Ä¢ –≤—Ö–æ–¥ –Ω–∞ –º–æ–Ω–µ—Ç—É –ø–æ 10$, —Å—Ç–æ–ø –ø–æ 9.5$ (—Å—Ç–æ–ø 5%);\n"
            "üëâ 5 / 0.05 = 100$ ‚Äî –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ (10 –º–æ–Ω–µ—Ç).\n\n"
            "–ü—Ä–∏–º–µ—Ä 2 (—Ñ—å—é—á–µ—Ä—Å—ã —Å –ø–ª–µ—á–æ–º):\n"
            "‚Ä¢ –¥–µ–ø–æ–∑–∏—Ç 500$;\n"
            "‚Ä¢ —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É 1% ‚Üí —Ç–µ –∂–µ 5$;\n"
            "‚Ä¢ —Å—Ç–æ–ø 2%;\n"
            "üëâ 5 / 0.02 = 250$ –Ω–æ–º–∏–Ω–∞–ª –ø–æ–∑–∏—Ü–∏–∏.\n"
            "–ï—Å–ª–∏ —Ç—ã –±–µ—Ä—ë—à—å –ø–ª–µ—á–æ x5, —Ç–µ–±–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 50$ –º–∞—Ä–∂–∏, –Ω–æ <b>—Ä–∏—Å–∫ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ç–µ –∂–µ 5$</b>.\n\n"
            "–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥: –ø–ª–µ—á–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏, –Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —É–±—ã—Ç–æ–∫ –≤ $ —Ç—ã –∑–∞–¥–∞—ë—à—å —Å–∞–º.",

            "üìä <b>–£—Ä–æ–∫ 3. –ü—Ä–æ—Å–∞–¥–∫–∏ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–ª–∏–≤–∞</b>\n\n"
            "–î–∞–∂–µ —É –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∏ –∏–∑ 5‚Äì7 —Å—Ç–æ–ø–æ–≤ –ø–æ–¥—Ä—è–¥.\n"
            "–ï—Å–ª–∏ —Ç—ã —Ä–∏—Å–∫—É–µ—à—å 5‚Äì10% –Ω–∞ —Å–¥–µ–ª–∫—É ‚Äî —Ç–∞–∫–∞—è —Å–µ—Ä–∏—è –ø—Ä–æ—Å—Ç–æ —É–Ω–∏—á—Ç–æ–∂–∏—Ç –¥–µ–ø–æ–∑–∏—Ç.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ —Ä–∏—Å–∫ 5% –Ω–∞ —Å–¥–µ–ª–∫—É, 5 —Å—Ç–æ–ø–æ–≤ –ø–æ–¥—Ä—è–¥ ‚Üí –¥–µ–ø–æ–∑–∏—Ç ~ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø–æ—á—Ç–∏ –Ω–∞ 25%;\n"
            "‚Ä¢ —Ä–∏—Å–∫ 1% –Ω–∞ —Å–¥–µ–ª–∫—É, 5 —Å—Ç–æ–ø–æ–≤ –ø–æ–¥—Ä—è–¥ ‚Üí –º–∏–Ω—É—Å –≤—Å–µ–≥–æ –æ–∫–æ–ª–æ 5%, —á—Ç–æ –º–æ–∂–Ω–æ –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å.\n\n"
            "–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–∂–∏–≤–∞—Ç—å –ø–ª–æ—Ö–∏–µ —É—á–∞—Å—Ç–∫–∏ —Ä—ã–Ω–∫–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –≤—Å–µ–π –∏–≥—Ä—ã.\n"
            "–†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –Ω–µ ¬´–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å –ø—Ä–∏–±—ã–ª–∏¬ª, –∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–ª–Ω–æ–≥–æ –≤—ã–ª–µ—Ç–∞ —Å –ø–æ–ª—è.",

            "üìä <b>–£—Ä–æ–∫ 4. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞</b>\n\n"
            "–ù–µ –≤–µ—Å—å —Ç–≤–æ–π –∫–∞–ø–∏—Ç–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ç–æ—Ä–≥–æ–≤–æ–º –¥–µ–ø–æ–∑–∏—Ç–µ.\n\n"
            "–†–∞–∑—É–º–Ω–∞—è —Å—Ö–µ–º–∞:\n"
            "‚Ä¢ 100% ‚Äî —Ç–≤–æ–π –æ–±—â–∏–π –∫–∞–ø–∏—Ç–∞–ª;\n"
            "‚Ä¢ 50‚Äì70% ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–µ —Å–ø–µ–∫—É–ª—è—Ü–∏–π (–ø–æ–¥—É—à–∫–∞, –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏);\n"
            "‚Ä¢ 30‚Äì50% ‚Äî —Ä–∞–±–æ—á–∏–π –¥–µ–ø–æ–∑–∏—Ç –ø–æ–¥ –∞–∫—Ç–∏–≤–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é.\n\n"
            "–ü—Ä–∏–º–µ—Ä: —É —Ç–µ–±—è –µ—Å—Ç—å 2000$.\n"
            "‚Ä¢ 1000‚Äì1400$ —Ç—ã –Ω–µ —Ç—Ä–æ–≥–∞–µ—à—å (–ø–æ–¥—É—à–∫–∞/–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏);\n"
            "‚Ä¢ 600‚Äì1000$ ‚Äî —Ç–≤–æ–π –¥–µ–ø–æ–∑–∏—Ç –Ω–∞ –±–∏—Ä–∂–µ.\n\n"
            "–¢–∞–∫ –¥–∞–∂–µ –µ—Å–ª–∏ –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫, —Ç—ã –Ω–µ —É–Ω–∏—á—Ç–æ–∂–∏—à—å –≤—Å—é —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Å–Ω–æ–≤—É.",

            "üìä <b>–£—Ä–æ–∫ 5. –î–æ–º–∞—à–∫–∞ –ø–æ —Ä–∏—Å–∫—É</b>\n\n"
            "1) –ó–∞–ø–∏—à–∏ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—É—â–∏–π –¥–µ–ø–æ–∑–∏—Ç.\n"
            "2) –û–ø—Ä–µ–¥–µ–ª–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É (1% –∏–ª–∏ 2%).\n"
            "3) –ü–æ—Å—á–∏—Ç–∞–π –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö —Ü–∏—Ñ—Ä–∞—Ö (–≤ $), —Å–∫–æ–ª—å–∫–æ —Ç—ã –≥–æ—Ç–æ–≤ —Ç–µ—Ä—è—Ç—å –≤ –æ–¥–Ω–æ–π —Å–¥–µ–ª–∫–µ.\n"
            "4) –û–ø—Ä–µ–¥–µ–ª–∏ –ª–∏–º–∏—Ç –Ω–∞ –¥–µ–Ω—å: –ø–æ % –∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç–æ–ø–æ–≤.\n"
            "5) –ó–∞–ø–∏—à–∏ —ç—Ç–æ –∫–∞–∫ –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª –∏ –ø–æ–≤–µ—Å—å —Å–µ–±–µ –≥–¥–µ-—Ç–æ —Ä—è–¥–æ–º —Å —Ä–∞–±–æ—á–∏–º –º–µ—Å—Ç–æ–º.\n\n"
            "–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ–æ—Ä–∏—è ‚Äî —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –±—É–¥—É—Ç –æ—Å–Ω–æ–≤–æ–π —Ç–≤–æ–µ–≥–æ –≤—ã–∂–∏–≤–∞–Ω–∏—è –Ω–∞ —Ä—ã–Ω–∫–µ.",
        ],
    ),

    "c3_tech": (
        "–ú–æ–¥—É–ª—å 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –≤–æ–¥—ã",
        [
            "üìà <b>–£—Ä–æ–∫ 1. –¢—Ä–µ–Ω–¥, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ñ–∞–∑—ã —Ä—ã–Ω–∫–∞</b>\n\n"
            "–†—ã–Ω–æ–∫ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –∂–∏–≤—ë—Ç –≤ —Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö:\n"
            "‚Ä¢ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ ‚Äî —Ü–µ–Ω–∞ —Å—Ç–æ–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ, –∫—Ä—É–ø–Ω—ã–π –∏–≥—Ä–æ–∫ –Ω–∞–±–∏—Ä–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é;\n"
            "‚Ä¢ —Ç—Ä–µ–Ω–¥ ‚Äî —Ü–µ–Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ –∏–¥—ë—Ç –≤–≤–µ—Ä—Ö –∏–ª–∏ –≤–Ω–∏–∑;\n"
            "‚Ä¢ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏, –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –º–æ–Ω–µ—Ç–∞ –¥–æ–ª–≥–æ —Å—Ç–æ–∏—Ç –≤ –±–æ–∫–æ–≤–∏–∫–µ, –æ–±—ä—ë–º—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞—Å—Ç–∏ ‚Äî –∏–¥—ë—Ç –Ω–∞–±–æ—Ä –ø–æ–∑–∏—Ü–∏–π;\n"
            "‚Ä¢ –∑–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã—Ö–æ–¥ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ ‚Äî —Ç—Ä–µ–Ω–¥;\n"
            "‚Ä¢ –ø–æ—Å–ª–µ —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞ –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ö–∞–æ—Ç–∏—á–Ω—ã–µ —Å–≤–µ—á–∏, –æ–±—ä—ë–º—ã –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –Ω–∞—á–∞–ª–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç–∞.\n\n"
            "–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —É—á–∏—Ç—å—Å—è –≤–∏–¥–µ—Ç—å, –≤ –∫–∞–∫–æ–π —Ñ–∞–∑–µ —Å–µ–π—á–∞—Å —Ä—ã–Ω–æ–∫, –∏ –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–∫—É–ø–∞—Ç—å –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –∏–ª–∏ —à–æ—Ä—Ç–∏—Ç—å –≤ —Å–∞–º–æ–º –Ω–∏–∑—É.",

            "üìà <b>–£—Ä–æ–∫ 2. –£—Ä–æ–≤–Ω–∏, –∑–æ–Ω—ã –∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å</b>\n\n"
            "–£—Ä–æ–≤–Ω–∏ ‚Äî —ç—Ç–æ –º–µ—Å—Ç–∞, –≥–¥–µ —Ü–µ–Ω–∞ —É–∂–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞—Å—å –∏–ª–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–ª–∞—Å—å.\n"
            "–ß–µ–º –±–æ–ª—å—à–µ –∫–∞—Å–∞–Ω–∏–π —É—Ä–æ–≤–Ω—è –±–µ–∑ –ø—Ä–æ–±–æ—è ‚Äî —Ç–µ–º –æ–Ω –≤–∞–∂–Ω–µ–µ.\n\n"
            "–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:\n"
            "‚Ä¢ –∏—Å–∫–∞—Ç—å –≤—Ö–æ–¥ –≤–±–ª–∏–∑–∏ —É—Ä–æ–≤–Ω—è, –∞ –Ω–µ ¬´–≤ –Ω–∏–∫—É–¥–∞¬ª;\n"
            "‚Ä¢ —Å—Ç–∞–≤–∏—Ç—å —Å—Ç–æ–ø-–ª–æ—Å—Å –∑–∞ —É—Ä–æ–≤–µ–Ω—å, –∞ –Ω–µ –ø–æ—Å—Ä–µ–¥–∏ —à—É–º–∞;\n"
            "‚Ä¢ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏ —É —Å–∏–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –Ω–∞ 4H —Ç—ã –≤–∏–¥–∏—à—å, —á—Ç–æ —Ü–µ–Ω–∞ —Ç—Ä–∏ —Ä–∞–∑–∞ –æ—Ç–±–∏–≤–∞–ª–∞—Å—å –æ—Ç –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –∑–æ–Ω—ã —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è;\n"
            "‚Ä¢ –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –≤ —á–µ—Ç–≤—ë—Ä—Ç—ã–π —Ä–∞–∑ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ —ç—Ç–æ–π –∑–æ–Ω–µ, —Ç—ã —É–∂–µ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ —Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ —Ä–∞–∑–≤–æ—Ä–æ—Ç, –ª–∏–±–æ –ø—Ä–æ–±–æ–π –Ω–∞ –æ–±—ä—ë–º–µ.\n\n"
            "–£—Ä–æ–≤–Ω–∏ ‚Äî —ç—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã, –∞ –Ω–µ –º–∞–≥–∏—è. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç —Ç–µ–±–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫.",

            "üìà <b>–£—Ä–æ–∫ 3. –°–≤–µ—á–∏ –∏ —Å–∏–≥–Ω–∞–ª—ã —Å–∏–ª—ã/—Å–ª–∞–±–æ—Å—Ç–∏</b>\n\n"
            "–°–≤–µ—á–Ω–æ–π –∞–Ω–∞–ª–∏–∑ ‚Äî —ç—Ç–æ –Ω–µ –∑–∞—É—á–∏–≤–∞–Ω–∏–µ 100 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.\n"
            "–¢–µ–±–µ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:\n"
            "‚Ä¢ –¥–ª–∏–Ω–Ω—ã–µ —Ö–≤–æ—Å—Ç—ã —Å–Ω–∏–∑—É –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è ‚Äî –ø—Ä–∏–∑–Ω–∞–∫–∏ –æ—Ç–∫—É–ø–∞;\n"
            "‚Ä¢ –¥–ª–∏–Ω–Ω—ã–µ —Ö–≤–æ—Å—Ç—ã —Å–≤–µ—Ä—Ö—É –ø–æ—Å–ª–µ —Ä–æ—Å—Ç–∞ ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –∏ –¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤;\n"
            "‚Ä¢ –±–æ–ª—å—à–∏–µ ¬´—Ç–µ–ª–∞¬ª –Ω–∞ –≤—ã—Å–æ–∫–∏—Ö –æ–±—ä—ë–º–∞—Ö ‚Äî –∏–º–ø—É–ª—å—Å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—ã –≤–∏–¥–∏—à—å –¥–ª–∏–Ω–Ω—ã–µ —Ö–≤–æ—Å—Ç—ã —Å–Ω–∏–∑—É –∏ —Ä–æ—Å—Ç –æ–±—ä—ë–º–æ–≤ ‚Äî –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –∑–æ–Ω—É;\n"
            "‚Ä¢ –µ—Å–ª–∏ –ø—Ä–∏ —ç—Ç–æ–º –æ–±—â–∏–π —Ç—Ä–µ–Ω–¥ –≤–≤–µ—Ä—Ö ‚Äî —ç—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Ç–æ—á–∫–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –ø–æ —Ç—Ä–µ–Ω–¥—É.\n\n"
            "–ú—ã –≤—Å–µ–≥–¥–∞ —á–∏—Ç–∞–µ–º —Å–≤–µ—á–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É—Ä–æ–≤–Ω–µ–π –∏ —Ç—Ä–µ–Ω–¥–∞, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.",

            "üìà <b>–£—Ä–æ–∫ 4. –¢–∞–π–º—Ñ—Ä–µ–π–º—ã –∏ –º–Ω–æ–≥–æ—Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</b>\n\n"
            "–û–¥–Ω–∞ –∏–∑ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ ‚Äî –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É –¢–§.\n\n"
            "–†–∞–±–æ—á–∏–π –ø–æ–¥—Ö–æ–¥:\n"
            "‚Ä¢ —Å—Ç–∞—Ä—à–∏–π –¢–§ (4H / 1D) ‚Äî –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –∏ —Ç—Ä–µ–Ω–¥;\n"
            "‚Ä¢ —Å—Ä–µ–¥–Ω–∏–π –¢–§ (1H) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –∫–ª—é—á–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏;\n"
            "‚Ä¢ –º–ª–∞–¥—à–∏–π –¢–§ (5‚Äì15m) ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –Ω–∞ 4H –≤–∏–¥–Ω–æ –≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥;\n"
            "‚Ä¢ –Ω–∞ 1H ‚Äî –æ—Ç–∫–∞—Ç –∫ —Å–∏–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ;\n"
            "‚Ä¢ –Ω–∞ 15m ‚Äî —Ä–∞–∑–≤–æ—Ä–æ—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏ –≤—Ö–æ–¥ —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Å—Ç–æ–ø–æ–º.\n\n"
            "–¢–∞–∫ —Ç—ã –Ω–µ —Ç–µ—Ä—è–µ—à—å –∫–∞—Ä—Ç–∏–Ω—É —Ü–µ–ª–∏–∫–æ–º –∏ –ø—Ä–∏ —ç—Ç–æ–º –∑–∞—Ö–æ–¥–∏—à—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω–æ.",

            "üìà <b>–£—Ä–æ–∫ 5. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞</b>\n\n"
            "–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–∞—è –∫ —Ü–µ–Ω–µ –∏ –æ–±—ä—ë–º—É.\n"
            "–û–Ω–∏ –Ω–µ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç –±—É–¥—É—â–µ–µ, –∞ –ø–æ–º–æ–≥–∞—é—Ç —É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å –ø—Ä–æ—à–ª–æ–µ.\n\n"
            "–ú–∏–Ω–∏–º—É–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–µ–Ω:\n"
            "‚Ä¢ —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ (–ú–ê) ‚Äî –ø–æ–º–æ–≥–∞—é—Ç –≤–∏–¥–µ—Ç—å –æ–±—â–∏–π —Ç—Ä–µ–Ω–¥ –∏ –¥–∏–Ω–∞–º–∏–∫—É;\n"
            "‚Ä¢ –æ–±—ä—ë–º—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –≥–¥–µ –≤ —Ä—ã–Ω–æ–∫ –∑–∞—Ö–æ–¥–∏—Ç –∫—Ä—É–ø–Ω—ã–π –∏–≥—Ä–æ–∫.\n\n"
            "–ü–ª–æ—Ö–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –∫–æ–≥–¥–∞ –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω—é—é —ë–ª–∫—É –∏–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤, –∞ —á–µ–ª–æ–≤–µ–∫ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –≤–∏–¥–µ—Ç—å —Å–∞–º—É —Ü–µ–Ω—É.\n\n"
            "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî —á–∏—Å—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ + 1‚Äì2 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ø–æ–ª–Ω—è—é—Ç, –∞ –Ω–µ –ø–æ–¥–º–µ–Ω—è—é—Ç —Ç–≤–æ–π –∞–Ω–∞–ª–∏–∑.",
        ],
    ),

    "c4_system": (
        "–ú–æ–¥—É–ª—å 4. –¢–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –∂—É—Ä–Ω–∞–ª",
        [
            "üß© <b>–£—Ä–æ–∫ 1. –ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç —Ä–∞–±–æ—á–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</b>\n\n"
            "–í –ª—é–±–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—è–∑–∞–Ω—ã –±—ã—Ç—å:\n"
            "‚Ä¢ —á—ë—Ç–∫–∏–µ —É—Å–ª–æ–≤–∏—è –≤—Ö–æ–¥–∞ (—á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç—ã —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ);\n"
            "‚Ä¢ –ø–æ–Ω—è—Ç–Ω–æ–µ –º–µ—Å—Ç–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ (–≥–¥–µ —Å—Ü–µ–Ω–∞—Ä–∏–π —É–∂–µ –ª–æ–º–∞–µ—Ç—Å—è);\n"
            "‚Ä¢ —Ü–µ–ª–∏ –ø–æ –ø—Ä–∏–±—ã–ª–∏ (–∫—É–¥–∞ –ª–æ–≥–∏—á–Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ —Ü–µ–Ω–∞);\n"
            "‚Ä¢ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É;\n"
            "‚Ä¢ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —Ç—ã —Ç–æ—Ä–≥—É–µ—à—å.\n\n"
            "–ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ—Ç ‚Äî —ç—Ç–æ –Ω–µ —Å–∏—Å—Ç–µ–º–∞, –∞ ¬´–Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –ø–æ–≤–µ–∑—ë—Ç¬ª. –¢—Ä–µ–π–¥–∏–Ω–≥ –±–µ–∑ —Å–∏—Å—Ç–µ–º—ã –≤—Å–µ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ ‚Äî —Å–ª–∏–≤–æ–º –¥–µ–ø–æ–∑–∏—Ç–∞.",

            "üß© <b>–£—Ä–æ–∫ 2. –ë–∞–∑–æ–≤—ã–π —Ç—Ä–µ–Ω–¥–æ–≤—ã–π —Å–µ—Ç–∞–ø</b>\n\n"
            "–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–Ω–¥–æ–≤–æ–π –∏–¥–µ–∏:\n"
            "1) –ù–∞ —Å—Ç–∞—Ä—à–µ–º –¢–§ (4H/1D) –µ—Å—Ç—å —É—Å—Ç–æ–π—á–∏–≤—ã–π –≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥.\n"
            "2) –¶–µ–Ω–∞ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∫ –∑–æ–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏/–∫ —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π.\n"
            "3) –ù–∞ –º–ª–∞–¥—à–µ–º –¢–§ (15m/1H) —Ç—ã –≤–∏–¥–∏—à—å –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –ø–∞–¥–µ–Ω–∏—è –∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ –æ—Ç–∫—É–ø–∞.\n"
            "4) –í—Ö–æ–¥ –≤ –ª–æ–Ω–≥ –ø–æ —Å–∏–≥–Ω–∞–ª—É –Ω–∞ –º–ª–∞–¥—à–µ–º –¢–§, —Å—Ç–æ–ø ‚Äî –∑–∞ —É—Ä–æ–≤–µ–Ω—å, —Ü–µ–ª—å ‚Äî –±–ª–∏–∂–∞–π—à–∞—è —Å–∏–ª—å–Ω–∞—è –∑–æ–Ω–∞ –≤—ã—à–µ.\n\n"
            "–¢–∞–∫–æ–π —Å–µ—Ç–∞–ø –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –¥–µ—Å—è—Ç–∫–∏ —Ä–∞–∑, —Å–ª–µ–≥–∫–∞ –∞–¥–∞–ø—Ç–∏—Ä—É—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –º–æ–Ω–µ—Ç—ã.",

            "üß© <b>–£—Ä–æ–∫ 3. –ü—Ä–∏–º–µ—Ä—ã —Å–¥–µ–ª–æ–∫ –∏ —Å—Ü–µ–Ω–∞—Ä–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</b>\n\n"
            "–ü–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ —Å–¥–µ–ª–∫—É –∑–∞–¥–∞–π —Å–µ–±–µ —Ç—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞:\n"
            "‚Ä¢ —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –ø–æ–π–¥—ë—Ç –ø–æ –ø–ª–∞–Ω—É? (–≥–¥–µ —Ñ–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏);\n"
            "‚Ä¢ —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —Ü–µ–Ω–∞ —Å—Ä–∞–∑—É –ø–æ–π–¥—ë—Ç –ø—Ä–æ—Ç–∏–≤? (–≥–¥–µ —Å—Ç–æ–∏—Ç —Å—Ç–æ–ø –∏ –∫–∞–∫–æ–≤ —Ä–∏—Å–∫);\n"
            "‚Ä¢ —á—Ç–æ –±—É–¥–µ—à—å –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –∑–∞—Ñ–ª–µ—Ç–∏—Ç —Ä—è–¥–æ–º —Å –≤—Ö–æ–¥–æ–º?\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ —Ç—ã –≤–æ—à—ë–ª –≤ –ª–æ–Ω–≥, –Ω–æ —Ü–µ–Ω–∞ –≤—Å—Ç–∞–ª–∞ –≤ –±–æ–∫–æ–≤–∏–∫ ‚Äî —É —Ç–µ–±—è –∑–∞—Ä–∞–Ω–µ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª–æ: —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—ã –≥–æ—Ç–æ–≤ —Å–∏–¥–µ—Ç—å –±–µ–∑ –¥–≤–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ –∫–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö –≤—ã–π–¥–µ—à—å –±–µ–∑ —ç–º–æ—Ü–∏–π.\n\n"
            "–¢—Ä–µ–π–¥–µ—Ä –¥—É–º–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏, –∞ –Ω–µ ¬´–ª–∏–±–æ –≤–∑–ª–µ—Ç–∏—Ç, –ª–∏–±–æ –Ω–µ –≤–∑–ª–µ—Ç–∏—Ç¬ª.",

            "üß© <b>–£—Ä–æ–∫ 4. –ñ—É—Ä–Ω–∞–ª —Å–¥–µ–ª–æ–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n\n"
            "–ñ—É—Ä–Ω–∞–ª ‚Äî —ç—Ç–æ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π —Ä–µ–Ω—Ç–≥–µ–Ω —Ç—Ä–µ–π–¥–∏–Ω–≥–∞.\n\n"
            "–ß—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å:\n"
            "‚Ä¢ –¥–∞—Ç—É, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–ª–æ–Ω–≥/—à–æ—Ä—Ç);\n"
            "‚Ä¢ –ø—Ä–∏—á–∏–Ω—É –≤—Ö–æ–¥–∞ (–∫–∞–∫–æ–π —Å–µ—Ç–∞–ø/—Å–∏–≥–Ω–∞–ª —Ç—ã —É–≤–∏–¥–µ–ª);\n"
            "‚Ä¢ —Å—Ç–æ–ø, —Ü–µ–ª—å, —Ä–∏—Å–∫ –≤ % –∏ –≤ $;\n"
            "‚Ä¢ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: —á—Ç–æ —Å–¥–µ–ª–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á—Ç–æ –Ω–µ—Ç.\n\n"
            "–ß–µ—Ä–µ–∑ 30‚Äì50 –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ —Ç—ã —É–≤–∏–¥–∏—à—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏: –≥–¥–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω–∞—Ä—É—à–∞–µ—à—å –ø—Ä–∞–≤–∏–ª–∞, –∫–∞–∫–∏–µ —Å–µ—Ç–∞–ø—ã –∑–∞—Ö–æ–¥—è—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ.",

            "üß© <b>–£—Ä–æ–∫ 5. –¢–æ—Ä–≥–æ–≤–∞—è —Ä—É—Ç–∏–Ω–∞</b>\n\n"
            "–£ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä—É—Ç–∏–Ω–∞:\n"
            "‚Ä¢ —É—Ç—Ä–µ–Ω–Ω–∏–π –æ–±–∑–æ—Ä —Ä—ã–Ω–∫–∞ ‚Äî —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –∫–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã;\n"
            "‚Ä¢ –æ—Ç–º–µ—Ç–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö –∑–æ–Ω –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è;\n"
            "‚Ä¢ –ª–∏–º–∏—Ç –ø–æ —É–±—ã—Ç–∫—É ‚Äî –µ—Å–ª–∏ –æ–Ω –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, —Ç–æ—Ä–≥–æ–≤–ª—è —Å—Ç–æ–ø;\n"
            "‚Ä¢ –≤–µ—á–µ—Ä–Ω–∏–π —Ä–∞–∑–±–æ—Ä: –∫–∞–∫–∏–µ —Å–¥–µ–ª–∫–∏ –±—ã–ª–∏, –∫–∞–∫–∏–µ –∏–¥–µ–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª–∏.\n\n"
            "–†—É—Ç–∏–Ω–∞ –¥–µ–ª–∞–µ—Ç —Ç—Ä–µ–π–¥–∏–Ω–≥ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –¥–ª—è —Ç–µ–±—è —Å–∞–º–æ–≥–æ –∏ —Å–Ω–∏–∂–∞–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–∞—á–µ–ª–∏.",
        ],
    ),

    "c5_futures": (
        "–ú–æ–¥—É–ª—å 5. –§—å—é—á–µ—Ä—Å—ã, –ø–ª–µ—á–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
        [
            "‚öôÔ∏è <b>–£—Ä–æ–∫ 1. –°–ø–æ—Ç vs —Ñ—å—é—á–µ—Ä—Å—ã</b>\n\n"
            "–°–ø–æ—Ç ‚Äî —Ç—ã –ø–æ–∫—É–ø–∞–µ—à—å –º–æ–Ω–µ—Ç—É –∏ —Ä–µ–∞–ª—å–Ω–æ –≤–ª–∞–¥–µ–µ—à—å –µ—é.\n"
            "–§—å—é—á–µ—Ä—Å—ã ‚Äî —Ç—ã —Ç–æ—Ä–≥—É–µ—à—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –º–æ–∂–µ—à—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∫ –Ω–∞ —Ä–æ—Å—Ç–µ, —Ç–∞–∫ –∏ –Ω–∞ –ø–∞–¥–µ–Ω–∏–∏.\n\n"
            "–ù–∞ —Ñ—å—é—á–µ—Ä—Å–∞—Ö –ª–µ–≥–∫–æ —Ä–∞–∑–æ–≥–Ω–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç, –Ω–æ –µ—â—ë –ª–µ–≥—á–µ –µ–≥–æ —Å–ª–∏—Ç—å ‚Äî –∏–∑-–∑–∞ –ø–ª–µ—á–µ–π –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è.\n\n"
            "–ó–∞–¥–∞—á–∞ —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è ‚Äî –¥–∞—Ç—å —Ç–µ–±–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –∞ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∏—Ö –≤ –∫–∞–∑–∏–Ω–æ.",

            "‚öôÔ∏è <b>–£—Ä–æ–∫ 2. –ü–ª–µ—á–æ –∏ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫</b>\n\n"
            "–ü–ª–µ—á–æ x10 –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç—ã –æ–±—è–∑–∞–Ω –ø–æ—Ç–µ—Ä—è—Ç—å –≤—Å—ë.\n"
            "–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å–æ–± –≤–∑—è—Ç—å –ø–æ–∑–∏—Ü–∏—é –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, —á–µ–º —Ç–≤–æ–π –¥–µ–ø–æ–∑–∏—Ç.\n\n"
            "–ü—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –¥–µ–ø–æ–∑–∏—Ç 500$;\n"
            "‚Ä¢ —Ç—ã –±–µ—Ä—ë—à—å –ø–ª–µ—á–æ x5 –∏ –ø–æ–∑–∏—Ü–∏—é –Ω–∞ 2500$;\n"
            "‚Ä¢ –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ä–∞—Å—á—ë—Ç–µ —Å—Ç–æ–ø–∞ —Ç–≤–æ–π —Ä–∏—Å–∫ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –º–æ–∂–µ—Ç –±—ã—Ç—å 1% –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ (5$).\n\n"
            "–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –ø–ª–µ—á–µ, –∞ –≤ —Ç–æ–º, –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç. –ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç —Ä–∏—Å–∫, –ª—é–±–æ–µ –ø–ª–µ—á–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ ¬´—Ä—É–ª–µ—Ç–∫—É –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏¬ª.",

            "‚öôÔ∏è <b>–£—Ä–æ–∫ 3. –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è, –º–∞—Ä–∂–∞ –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å</b>\n\n"
            "–ù–∞ —Ñ—å—é—á–µ—Ä—Å–∞—Ö –µ—Å—Ç—å –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏, –∫–æ–≥–¥–∞ —Ç–≤–æ—è –º–∞—Ä–∂–∞ –ø–æ—á—Ç–∏ —Å–≥–æ—Ä–µ–ª–∞.\n"
            "–ß–µ–º –±–æ–ª—å—à–µ –ø–ª–µ—á–æ, —Ç–µ–º –±–ª–∏–∂–µ —Ü–µ–Ω–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏.\n\n"
            "–ì—Ä–∞–º–æ—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞:\n"
            "‚Ä¢ —Ç—ã –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—à—å, –≥–¥–µ —Å—Ç–æ–∏—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å;\n"
            "‚Ä¢ —Å—Ç–æ–ø —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≥–æ—Ä–∞–∑–¥–æ —Ä–∞–Ω—å—à–µ, —á–µ–º —Ü–µ–Ω–∞ –¥–æ–π–¥—ë—Ç –¥–æ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏;\n"
            "‚Ä¢ —Ä–∏—Å–∫ –≤ —Å–¥–µ–ª–∫–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π —á–∞—Å—Ç—å—é –¥–µ–ø–æ–∑–∏—Ç–∞.\n\n"
            "–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ –≤–æ–æ–±—â–µ –Ω–µ —É–ø—Ä–∞–≤–ª—è–ª —Ä–∏—Å–∫–æ–º, –∞ –ø—Ä–æ—Å—Ç–æ ¬´–Ω–∞–¥–µ—è–ª—Å—è –Ω–∞ —Ä–æ—Å—Ç/–ø–∞–¥–µ–Ω–∏–µ¬ª.",

            "‚öôÔ∏è <b>–£—Ä–æ–∫ 4. –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–æ—Ä–≥–æ–≤–ª–∏ —Ñ—å—é—á–µ—Ä—Å–æ–≤</b>\n\n"
            "–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –≤–æ–æ–±—â–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ñ—å—é—á–µ—Ä—Å–Ω—ã–π –æ—Ä–¥–µ—Ä:\n"
            "‚Ä¢ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫–∞—è —É —Ç–µ–±—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ —Å–µ—Ç–∞–ø—ã;\n"
            "‚Ä¢ —É–º–µ–µ—à—å —Å—á–∏—Ç–∞—Ç—å –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–¥ –∑–∞–¥–∞–Ω–Ω—ã–π —Ä–∏—Å–∫;\n"
            "‚Ä¢ –∑–Ω–∞–µ—à—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å –∏ –≥–¥–µ –µ–≥–æ —Å—Ç–∞–≤–∏—Ç—å;\n"
            "‚Ä¢ –ø—Ä–∏–Ω—è–ª, —á—Ç–æ —É–±—ã—Ç–æ–∫ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –∏–≥—Ä—ã, –∞ –Ω–µ –ø–æ–≤–æ–¥ —É–¥–≤–∞–∏–≤–∞—Ç—å –ø–ª–µ—á–æ.\n\n"
            "–ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –Ω–µ—Ç ‚Äî –ª—É—á—à–µ –≤—Ä–µ–º–µ–Ω–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–ø–æ—Ç –∏ —É—á–∏—Ç—å—Å—è –Ω–∞ –Ω—ë–º.",
        ],
    ),

    "c6_plan": (
        "–ú–æ–¥—É–ª—å 6. –õ–∏—á–Ω—ã–π –ø–ª–∞–Ω –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ",
        [
            "üß† <b>–£—Ä–æ–∫ 1. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è</b>\n\n"
            "–¢—Ä–µ–π–¥–∏–Ω–≥ ‚Äî —ç—Ç–æ –Ω–µ —Å–ø–æ—Å–æ–± –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å 100$ –≤ –º–∏–ª–ª–∏–æ–Ω –∑–∞ –º–µ—Å—è—Ü.\n\n"
            "–ê–¥–µ–∫–≤–∞—Ç–Ω—ã–µ —ç—Ç–∞–ø—ã:\n"
            "‚Ä¢ —Å–Ω–∞—á–∞–ª–∞ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è –Ω–µ —Å–ª–∏–≤–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫;\n"
            "‚Ä¢ –ø–æ—Ç–æ–º ‚Äî –≤—ã–π—Ç–∏ –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –Ω–µ–±–æ–ª—å—à–æ–π % –≤ –º–µ—Å—è—Ü;\n"
            "‚Ä¢ –¥–∞–ª—å—à–µ ‚Äî –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –æ–±—ä—ë–º—ã, —Å–æ—Ö—Ä–∞–Ω—è—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É.\n\n"
            "–ì–ª–∞–≤–Ω—ã–π –∞–∫—Ç–∏–≤ ‚Äî —ç—Ç–æ —Ç–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –∏ —Å–∏—Å—Ç–µ–º–∞, –∞ –Ω–µ —Ä–∞–∑–æ–≤–∞—è ¬´–∫—Ä—É—Ç–∞—è¬ª —Å–¥–µ–ª–∫–∞.",

            "üß† <b>–£—Ä–æ–∫ 2. –õ–∏—á–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –ø–ª–∞–Ω</b>\n\n"
            "–°–æ—Å—Ç–∞–≤—å —Å–≤–æ–π –ø–ª–∞–Ω:\n"
            "‚Ä¢ –≤ –∫–∞–∫–∏–µ –¥–Ω–∏ –∏ —á–∞—Å—ã —Ç—ã —Ç–æ—Ä–≥—É–µ—à—å (—É—á–∏—Ç—ã–≤–∞—è —Å–≤–æ–π —Ä–µ–∂–∏–º –∏ —Ä–∞–±–æ—Ç—É);\n"
            "‚Ä¢ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ–±–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã (BTC, ETH, —Ç–æ–ø-–∞–ª—å—Ç—ã);\n"
            "‚Ä¢ –∫–∞–∫–æ–π —É —Ç–µ–±—è —Ä–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—å (1% –∏–ª–∏ 2% –Ω–∞ —Å–¥–µ–ª–∫—É);\n"
            "‚Ä¢ –∫–∞–∫–∏–µ 1‚Äì2 –±–∞–∑–æ–≤—ã–µ —Å–µ—Ç–∞–ø–∞ —Ç—ã –±—É–¥–µ—à—å –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.\n\n"
            "–ü–ª–∞–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–º, –∞ –Ω–µ —Å–∫–∞–∑–∫–æ–π ¬´–±—É–¥—É –¥–µ–ª–∞—Ç—å –ø–æ —Ç—ã—Å—è—á–µ —Å–¥–µ–ª–æ–∫ –≤ –¥–µ–Ω—å¬ª.",

            "üß† <b>–£—Ä–æ–∫ 3. –ö–∞–∫ —Ä–∞—Å—Ç–∏ –∏ –Ω–µ –ø–µ—Ä–µ–≥–æ—Ä–µ—Ç—å</b>\n\n"
            "–†–æ—Å—Ç –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ ‚Äî —ç—Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.\n\n"
            "–ù–∞—Å—Ç–æ—è—â–∏–π —Ä–æ—Å—Ç:\n"
            "‚Ä¢ –≤ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ (–Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å —Å–≤–æ–∏ –∂–µ –ø—Ä–∞–≤–∏–ª–∞);\n"
            "‚Ä¢ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–Ω–∞–ª–∏–∑–∞ (–≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä—ã–Ω–∫–∞, –∞ –Ω–µ –æ–¥–Ω—É —Å–≤–µ—á—É);\n"
            "‚Ä¢ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —ç–º–æ—Ü–∏—è–º–∏ (–Ω–µ –º—Å—Ç–∏—Ç—å —Ä—ã–Ω–∫—É –∏ –Ω–µ ¬´–¥–æ–≥–æ–Ω—è—Ç—å¬ª –¥–≤–∏–∂–µ–Ω–∏–µ).\n\n"
            "–ß—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥–æ—Ä–µ—Ç—å:\n"
            "‚Ä¢ –Ω–µ —Ç–æ—Ä–≥—É–π –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏–ª—å–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞/—É—Å—Ç–∞–ª–æ—Å—Ç–∏;\n"
            "‚Ä¢ –Ω–µ –ø—ã—Ç–∞–π—Å—è –≤–µ—Ä–Ω—É—Ç—å —É–±—ã—Ç–æ–∫ –ª—é–±–æ–π —Ü–µ–Ω–æ–π;\n"
            "‚Ä¢ –≤—ã–¥–µ–ª—è–π –¥–Ω–∏, –∫–æ–≥–¥–∞ —Ç—ã –≤–æ–æ–±—â–µ –Ω–µ —Å–º–æ—Ç—Ä–∏—à—å —Ä—ã–Ω–æ–∫.\n\n"
            "–¢—Ä–µ–π–¥–∏–Ω–≥ ‚Äî —ç—Ç–æ –º–∞—Ä–∞—Ñ–æ–Ω. –¢–≤–æ–π –∑–∞–¥–∞—á–∞ ‚Äî –Ω–µ —Å–≥–æ—Ä–µ—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–∏–ª–æ–º–µ—Ç—Ä–µ.",
        ],
    ),
}



COURSE_TRAFFIC = {
    "t1_profile": (
        "–ú–æ–¥—É–ª—å 1. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ—Ñ–∏–ª—å",
        [
            "üöÄ <b>–£—Ä–æ–∫ 1. –ó–∞—á–µ–º —Ç–µ–±–µ TikTok –≤ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ</b>\n\n"
            "TikTok ‚Äî —ç—Ç–æ –ø–æ—Ç–æ–∫ –ª—é–¥–µ–π. –¢–≤–æ–π –±–æ—Ç ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Ö –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç –∏ –º–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–µ—Ç.\n\n"
            "–ó–∞–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:\n"
            "‚Ä¢ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç—ã —Ä–∞–∑–±–∏—Ä–∞–µ—à—å—Å—è –≤ —Ç–µ–º–µ –∫—Ä–∏–ø—Ç—ã –∏ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞;\n"
            "‚Ä¢ –∑–∞—Ü–µ–ø–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞ –ø—Ä–æ–±–ª–µ–º–æ–π (¬´—Å–ª–∏–ª –¥–µ–ø–æ–∑–∏—Ç¬ª, ¬´–Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç¬ª);\n"
            "‚Ä¢ –¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –≤ –±–æ—Ç.\n\n"
            "–ù–µ —Ü–µ–ª—å ‚Äî –Ω–∞–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ ¬´–ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Ä–∞–¥–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤¬ª. –¶–µ–ª—å ‚Äî –ø—Ä–∏–≤–æ–¥–∏—Ç—å –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–º —Ä–µ–∞–ª—å–Ω–æ –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è —Ç–≤–æ—è —Ç–µ–º–∞.",

            "üöÄ <b>–£—Ä–æ–∫ 2. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–¥ –∫—Ä–∏–ø—Ç—É</b>\n\n"
            "–ü—Ä–æ—Ñ–∏–ª—å –¥–æ–ª–∂–µ–Ω –∑–∞ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥ –æ–±—ä—è—Å–Ω—è—Ç—å:\n"
            "‚Ä¢ –∫—Ç–æ —Ç—ã;\n"
            "‚Ä¢ —á–µ–º —Ç—ã –ø–æ–ª–µ–∑–µ–Ω;\n"
            "‚Ä¢ —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ –ø–æ–ª—É—á–∏—Ç, –µ—Å–ª–∏ –ø–µ—Ä–µ–π–¥—ë—Ç –ø–æ —Å—Å—ã–ª–∫–µ.\n\n"
            "–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:\n"
            "‚Ä¢ –∞–≤–∞—Ç–∞—Ä ‚Äî —á—ë—Ç–∫–∏–π, –±–µ–∑ –º–µ–ª–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è —Å –¥–µ–Ω—å–≥–∞–º–∏/–≥—Ä–∞—Ñ–∏–∫–∞–º–∏;\n"
            "‚Ä¢ –∏–º—è ‚Äî –±–µ–∑ —Ç—Ä—ç—à–∞ –∏ ¬´–ª–µ–≥–∫–∏—Ö –º–∏–ª–ª–∏–æ–Ω–æ–≤¬ª, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ ¬´–ö—Ä–∏–ø—Ç–∞ / —Ç—Ä–µ–π–¥–∏–Ω–≥ / —Ä–∞–∑–±–æ—Ä¬ª;\n"
            "‚Ä¢ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äî 2‚Äì3 —Å—Ç—Ä–æ–∫–∏: –∫—Ç–æ —Ç—ã + —á—Ç–æ –¥–∞—ë—à—å + –ø—Ä–∏–∑—ã–≤ –∑–∞–π—Ç–∏ –≤ –±–æ—Ç–∞.\n\n"
            "–ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è:\n"
            "¬´–ü–æ–º–æ–≥–∞—é –Ω–æ–≤–∏—á–∫–∞–º –≤ –∫—Ä–∏–ø—Ç–µ –Ω–µ —Å–ª–∏–≤–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç.\n"
            "–û–±—É—á–µ–Ω–∏–µ, —Å–∏–≥–Ω–∞–ª—ã –∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞ ‚Äî –≤—Å—ë –≤ –±–æ—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∏–∂–µ¬ª.",

            "üöÄ <b>–£—Ä–æ–∫ 3. –°—Å—ã–ª–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏ –º–æ—Å—Ç–∏–∫ –≤ –±–æ—Ç–∞</b>\n\n"
            "–ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º:\n"
            "—Ä–æ–ª–∏–∫ ‚Üí –ø—Ä–æ—Ñ–∏–ª—å ‚Üí —Å—Å—ã–ª–∫–∞ ‚Üí –±–æ—Ç ‚Üí –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.\n\n"
            "–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:\n"
            "‚Ä¢ –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞ ‚Äî –±—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ;\n"
            "‚Ä¢ –º—É–ª—å—Ç–∏—Å—Å—ã–ª–∫–∞ (Taplink –∏ –∞–Ω–∞–ª–æ–≥–∏) ‚Äî –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë —á—Ç–æ-—Ç–æ, –Ω–æ –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ.\n\n"
            "–ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ª–∏—à–Ω–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –∏ –Ω–µ —Ä–∞–∑–º—ã–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å: –≤—Å—ë —Å–∞–º–æ–µ –ø–æ–ª–µ–∑–Ω–æ–µ ‚Äî –≤ –±–æ—Ç–µ.",

            "üöÄ <b>–£—Ä–æ–∫ 4. –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–æ–≤–µ—Ä–∏—è</b>\n\n"
            "–õ—é–¥–∏ –¥–æ–≤–µ—Ä—è—é—Ç —Ç–µ–º, –∫—Ç–æ:\n"
            "‚Ä¢ –≥–æ–≤–æ—Ä–∏—Ç —á–µ—Å—Ç–Ω–æ –∏ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —Ö–∞–π–ø–∞;\n"
            "‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—Ö–∏, –Ω–æ –∏ –æ—à–∏–±–∫–∏;\n"
            "‚Ä¢ –æ–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ —Ä–∏—Å–∫–∏ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å —Ä—ã–Ω–∫–∞.\n\n"
            "–ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ä–æ–ª–∏–∫–∞—Ö:\n"
            "‚Ä¢ –ª–∏—á–Ω—ã–π –ø—É—Ç—å: –∫–∞–∫ —Ç—ã –Ω–∞—á–∞–ª, –∫–∞–∫ —Å–ª–∏–≤–∞–ª, —á—Ç–æ –ø–æ–º–µ–Ω—è–ª;\n"
            "‚Ä¢ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–±–æ—Ä—ã —Å–¥–µ–ª–æ–∫ (–¥–∞–∂–µ –º–µ–ª–∫–∏—Ö);\n"
            "‚Ä¢ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.\n\n"
            "–ß–µ–º –±–æ–ª—å—à–µ —á–µ–ª–æ–≤–µ–∫ —á—É–≤—Å—Ç–≤—É–µ—Ç, —á—Ç–æ —Ç—ã –∂–∏–≤–æ–π –∏ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π ‚Äî —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å, —á—Ç–æ –æ–Ω –¥–æ–π–¥—ë—Ç –¥–æ –±–æ—Ç–∞ –∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ.",
        ],
    ),

    "t2_content": (
        "–ú–æ–¥—É–ª—å 2. –ö–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–æ–¥–∏—Ç –ª—é–¥–µ–π",
        [
            "üé• <b>–£—Ä–æ–∫ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–±–æ—á–µ–≥–æ —Ä–æ–ª–∏–∫–∞</b>\n\n"
            "–°—Ö–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—â–µ –≤—Å–µ–≥–æ:\n"
            "1) –ö—Ä—é—á–æ–∫ ‚Äî –∑–∞—Ü–µ–ø–∏—Ç—å –∑–∞ –ø–µ—Ä–≤—ã–µ 1‚Äì3 —Å–µ–∫—É–Ω–¥—ã.\n"
            "2) –°—É—Ç—å ‚Äî –∫–æ—Ä–æ—Ç–∫–æ —Ä–∞—Å–∫—Ä—ã—Ç—å —Ç–µ–º—É.\n"
            "3) –ü—Ä–∏–º–µ—Ä ‚Äî —Ä–µ–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è.\n"
            "4) –ü—Ä–∏–∑—ã–≤ ‚Äî ¬´–ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä/—Å–∏—Å—Ç–µ–º–∞/–æ–±—É—á–µ–Ω–∏–µ –≤ –±–æ—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ¬ª.\n\n"
            "–ü—Ä–∏–º–µ—Ä —Ä–æ–ª–∏–∫–∞:\n"
            "‚Ä¢ –∫—Ä—é—á–æ–∫: ¬´3 –æ—à–∏–±–∫–∏, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–æ–≤–∏—á–∫–∏ —Å–ª–∏–≤–∞—é—Ç –¥–µ–ø–æ–∑–∏—Ç –≤ –∫—Ä–∏–ø—Ç–µ¬ª;\n"
            "‚Ä¢ —Å—É—Ç—å: –∫—Ä–∞—Ç–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—à—å –æ—à–∏–±–∫–∏;\n"
            "‚Ä¢ –ø—Ä–∏–º–µ—Ä: —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –æ–¥–Ω—É —Å–∏—Ç—É–∞—Ü–∏—é –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ;\n"
            "‚Ä¢ –ø—Ä–∏–∑—ã–≤: ¬´–ö–∞–∫ –Ω–µ —Å–ª–∏–≤–∞—Ç—å –∏ —Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É ‚Äî —è –ø–æ–∫–∞–∑—ã–≤–∞—é –≤ –±–æ—Ç–µ, —Å—Å—ã–ª–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ¬ª.",

            "üé• <b>–£—Ä–æ–∫ 2. –¢–µ–º—ã —Ä–æ–ª–∏–∫–æ–≤ –ø–æ –∫—Ä–∏–ø—Ç–µ</b>\n\n"
            "–ò–¥–µ–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–ø–ª—è—é—Ç –∏ –≤–µ–¥—É—Ç –≤ –±–æ—Ç–∞:\n"
            "‚Ä¢ ¬´–ü–æ—á–µ–º—É 90% —Å–ª–∏–≤–∞—é—Ç –¥–µ–ø–æ–∑–∏—Ç –∏ –∫–∞–∫ –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ –Ω–∏—Ö¬ª;\n"
            "‚Ä¢ ¬´–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç—Ä–µ–π–¥–∏–Ω–≥–æ–º –∏ –∫–∞–∑–∏–Ω–æ –Ω–∞ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö¬ª;\n"
            "‚Ä¢ ¬´–ö–∞–∫ –æ—Ç–±–∏—Ç—å 100$ —á–µ—Ä–µ–∑ –ø–∞—Ä—Ç–Ω—ë—Ä–∫—É, –µ—Å–ª–∏ —Ç—ã –Ω–æ–≤–∏—á–æ–∫¬ª;\n"
            "‚Ä¢ ¬´–û—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Å–∞–º —Å–æ–≤–µ—Ä—à–∞–ª –≤ –Ω–∞—á–∞–ª–µ –ø—É—Ç–∏¬ª;\n"
            "‚Ä¢ ¬´–ü–æ—á–µ–º—É —Ç—ã –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å, —Ö–æ—Ç—è —Å–º–æ—Ç—Ä–∏—à—å –∫—É—á—É —Ä–æ–ª–∏–∫–æ–≤¬ª.\n\n"
            "–ö–∞–∂–¥—ã–π —Ä–æ–ª–∏–∫ ‚Äî —ç—Ç–æ –∫—Ä—é—á–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥—ë—Ç –≤ –±–æ—Ç–∞, –≥–¥–µ —É–∂–µ –≤—ã—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—É—á–µ–Ω–∏—è –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏.",

            "üé• <b>–£—Ä–æ–∫ 3. –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å</b>\n\n"
            "–°–ª—É—á–∞–π–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç = —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\n\n"
            "–ü–ª–∞–Ω:\n"
            "‚Ä¢ –≤—ã–ø–∏—à–∏ 20‚Äì30 —Ç–µ–º –Ω–∞ –º–µ—Å—è—Ü –≤–ø–µ—Ä—ë–¥;\n"
            "‚Ä¢ –≤—ã–¥–µ–ª–∏ –æ–¥–∏–Ω –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –±—É–¥–µ—à—å —Å–Ω–∏–º–∞—Ç—å —Å—Ä–∞–∑—É 5‚Äì10 —Ä–æ–ª–∏–∫–æ–≤;\n"
            "‚Ä¢ –≤—ã–∫–ª–∞–¥—ã–≤–∞–π –ø–æ 1‚Äì2 —Ä–æ–ª–∏–∫–∞ –≤ –¥–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–æ.\n\n"
            "–¢–∞–∫ —Ç—ã —Å–Ω–∏–º–∞–µ—à—å –Ω–µ ¬´–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ¬ª, –∞ –ø–æ —Å–∏—Å—Ç–µ–º–µ. –ê–ª–≥–æ—Ä–∏—Ç–º TikTok –ª—é–±–∏—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –∞ –Ω–µ —Ö–∞–æ—Ç–∏—á–Ω—ã–µ –≤—Å–ø—ã—à–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.",

            "üé• <b>–£—Ä–æ–∫ 4. –ö—Ä—é—á–∫–∏ –∏ –ø–µ—Ä–≤—ã–µ —Å–µ–∫—É–Ω–¥—ã</b>\n\n"
            "–ü–µ—Ä–≤—ã–µ —Å–µ–∫—É–Ω–¥—ã —Ä–µ—à–∞—é—Ç –≤—Å—ë.\n\n"
            "–ü—Ä–∏–º–µ—Ä—ã –∫—Ä—é—á–∫–æ–≤:\n"
            "‚Ä¢ ¬´–ï—Å–ª–∏ —Ç—ã —É–∂–µ —Å–ª–∏–≤–∞–ª –¥–µ–ø–æ–∑–∏—Ç ‚Äî —Å–º–æ—Ç—Ä–∏ —ç—Ç–æ¬ª;\n"
            "‚Ä¢ ¬´3 –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —è –∑–∞–ø—Ä–µ—Ç–∏–ª —Å–µ–±–µ –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ¬ª;\n"
            "‚Ä¢ ¬´–ü–æ—á–µ–º—É –ª—é–¥–∏ –≥–æ–¥–∞–º–∏ —É—á–∞—Ç—Å—è –∫—Ä–∏–ø—Ç–µ –∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç¬ª.\n\n"
            "–ö—Ä—é—á–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º –∏ –ª–æ–≥–∏—á–Ω–æ –≤–µ—Å—Ç–∏ –∫ —Ç–æ–º—É, —á—Ç–æ —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –¥–∞–ª—å—à–µ. –ù–µ –æ–±–µ—â–∞–π —Ç–æ–≥–æ, —á–µ–≥–æ –Ω–µ—Ç ‚Äî —ç—Ç–æ —É–±–∏–≤–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é —Ä–∞–±–æ—Ç—É.",

            "üé• <b>–£—Ä–æ–∫ 5. –ö–∞–∫ —Å–≤—è–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –±–æ—Ç–∞</b>\n\n"
            "–ö–∞–∂–¥—ã–π —Ä–æ–ª–∏–∫ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å: ¬´–ø–æ—á–µ–º—É —á–µ–ª–æ–≤–µ–∫—É —Å—Ç–æ–∏—Ç –∑–∞–π—Ç–∏ –≤ –±–æ—Ç?¬ª.\n\n"
            "–ü—Ä–∏–º–µ—Ä—ã —Å–≤—è–∑–æ–∫:\n"
            "‚Ä¢ –≤ —Ä–æ–ª–∏–∫–µ —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å –ø—Ä–æ –æ—à–∏–±–∫—É –Ω–æ–≤–∏—á–∫–æ–≤ –∏ –≥–æ–≤–æ—Ä–∏—à—å, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞ –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∫—É—Ä—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –µ—ë –∏–∑–±–µ–∂–∞—Ç—å;\n"
            "‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å –ø—Ä–∏–º–µ—Ä —Å–¥–µ–ª–∫–∏ –∏ –≥–æ–≤–æ—Ä–∏—à—å, —á—Ç–æ –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∏ –ª–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è –≤ –æ–±—É—á–µ–Ω–∏–∏ –≤ –±–æ—Ç–µ;\n"
            "‚Ä¢ –æ–±—ä—è—Å–Ω—è–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä–∫—É –∏ –≥–æ–≤–æ—Ä–∏—à—å, —á—Ç–æ –¥–µ—Ç–∞–ª–∏ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω ‚Äî –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞.\n\n"
            "–ß–µ–ª–æ–≤–µ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤ –±–æ—Ç–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–µ—â—ë –æ–¥–∏–Ω —á–∞—Ç¬ª, –∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞.",
        ],
    ),

    "t3_funnel": (
        "–ú–æ–¥—É–ª—å 3. –í–æ—Ä–æ–Ω–∫–∞: –æ—Ç —Ä–æ–ª–∏–∫–∞ –¥–æ –æ–ø–ª–∞—Ç—ã",
        [
            "üì≤ <b>–£—Ä–æ–∫ 1. –ü—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç TikTok –¥–æ –±–æ—Ç–∞</b>\n\n"
            "–ü—É—Ç—å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:\n"
            "—Ä–æ–ª–∏–∫ ‚Üí –ø—Ä–æ—Ñ–∏–ª—å ‚Üí —Å—Å—ã–ª–∫–∞ ‚Üí –±–æ—Ç ‚Üí –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –æ–±—É—á–µ–Ω–∏–µ/–æ—Ñ—Ñ–µ—Ä.\n\n"
            "–ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ —á–µ–ª–æ–≤–µ–∫ —Ç–µ—Ä—è–µ—Ç—Å—è ‚Äî –æ–Ω –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ –≤–æ—Ä–æ–Ω–∫–∏.\n\n"
            "–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞ –≤ –¥—Ä—É–≥–æ–π –±—ã–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ª–æ–≥–∏—á–Ω—ã–º, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ –ø—É—Ç–∞–Ω–∏—Ü—ã.",

            "üì≤ <b>–£—Ä–æ–∫ 2. –ß—Ç–æ —á–µ–ª–æ–≤–µ–∫ –ø–æ–ª—É—á–∞–µ—Ç –∑–∞ 100$ (—á—ë—Ç–∫–∏–π –æ—Ñ—Ñ–µ—Ä)</b>\n\n"
            "–û—Ñ—Ñ–µ—Ä –¥–æ–ª–∂–µ–Ω –∑–≤—É—á–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:\n"
            "‚Ä¢ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –æ–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ ‚Äî –±–µ–∑ –≤–æ–¥—ã, —Å –ª–æ–≥–∏–∫–æ–π –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–π;\n"
            "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞ ‚Äî –∫–∞–∫ –≤–µ—Å—Ç–∏ TikTok –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –ª—é–¥–µ–π –≤ –±–æ—Ç–∞;\n"
            "‚Ä¢ –¥–æ—Å—Ç—É–ø –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –Ω–∞ –º–µ—Å—è—Ü;\n"
            "‚Ä¢ –ø–∞—Ä—Ç–Ω—ë—Ä–∫—É 50%/10% ‚Äî –º–æ–∂–µ—à—å –æ—Ç–±–∏—Ç—å –∏ –ø—Ä–∏—É–º–Ω–æ–∂–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ 100$.\n\n"
            "–ö–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –≤–∏–¥–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω –ø–æ–∫—É–ø–∞–µ—Ç ‚Äî —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∫ –æ–ø–ª–∞—Ç–µ —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è.",

            "üì≤ <b>–£—Ä–æ–∫ 3. –ù–∞ —á—ë–º –∏–º–µ–Ω–Ω–æ —Ç—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å</b>\n\n"
            "–¢—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –Ω–µ –Ω–∞ —Ç–æ–º, —á—Ç–æ ¬´–≤–ø–∞—Ä–∏–ª –∫—É—Ä—Å –∏ –∏—Å—á–µ–∑¬ª, –∞ –Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã.\n\n"
            "–¢–≤–æ—è –º–æ–¥–µ–ª—å:\n"
            "‚Ä¢ —á–µ–ª–æ–≤–µ–∫ –ø–ª–∞—Ç–∏—Ç –∑–∞ –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞–Ω–∏—è–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–æ–≥–∞—é—Ç —Å—Ç–∞—Ä—Ç–∞–Ω—É—Ç—å;\n"
            "‚Ä¢ –æ–Ω –º–æ–∂–µ—Ç –æ—Ç–±–∏—Ç—å —Å–≤–æ–∏ 100$ —á–µ—Ä–µ–∑ –ø–∞—Ä—Ç–Ω—ë—Ä–∫—É, –ø—Ä–∏–≤–æ–¥—è –ª—é–¥–µ–π –≤ —Ç–æ—Ç –∂–µ –ø—Ä–æ–¥—É–∫—Ç;\n"
            "‚Ä¢ —Ç—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –≤–º–µ—Å—Ç–µ —Å —Ç–µ–º–∏, –∫—Ç–æ –ø–æ–ª—É—á–∏–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç.\n\n"
            "–≠—Ç–æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, –∞ –Ω–µ —Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ ¬´–∫—É—Ä—Å–∏–∫–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é¬ª.",

            "üì≤ <b>–£—Ä–æ–∫ 4. –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–∏–ø–∏—á–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è</b>\n\n"
            "–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã:\n\n"
            "‚Ä¢ ¬´–ê –≤–¥—Ä—É–≥ —è –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞—é?¬ª ‚Äî —Ç—ã –ø–æ–∫—É–ø–∞–µ—à—å —Å–∏—Å—Ç–µ–º—É –∏ –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å. –ü–ª—é—Å —É —Ç–µ–±—è –µ—Å—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–∞—ë—Ç —à–∞–Ω—Å –æ—Ç–±–∏—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –≤–æ–æ–±—â–µ –Ω–æ–≤–∏—á–æ–∫.\n\n"
            "‚Ä¢ ¬´–ü–æ—á–µ–º—É —ç—Ç–æ –Ω–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ?¬ª ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ, —Å–∏–≥–Ω–∞–ª—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏–∑ –≤–æ–∑–¥—É—Ö–∞.\n\n"
            "‚Ä¢ ¬´–°–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å?¬ª ‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–≤–æ–µ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã, –≤—Ä–µ–º–µ–Ω–∏ –∏ –æ–±—ä—ë–º–æ–≤. –ü–æ—Ç–æ–ª–∫–∞ –Ω–µ—Ç, –Ω–æ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–π –Ω–µ—Ç ‚Äî –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ç—ã –º–æ–∂–µ—à—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è.",

            "üì≤ <b>–£—Ä–æ–∫ 5. –ö–∞–∫ –Ω–µ —Ç–µ—Ä—è—Ç—å –ª—é–¥–µ–π –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞</b>\n\n"
            "–í–∞–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –±–æ—Ç–∞, –Ω–æ –∏ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –µ–≥–æ –≤–Ω—É—Ç—Ä–∏:\n"
            "‚Ä¢ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å—Ä–∞–∑—É –æ–±—ä—è—Å–Ω—è—Ç—å, —á—Ç–æ –µ–≥–æ –∂–¥—ë—Ç –∏ –∫—É–¥–∞ –Ω–∞–∂–∏–º–∞—Ç—å;\n"
            "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º;\n"
            "‚Ä¢ –æ—Ñ—Ñ–µ—Ä —Å 100$ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–æ–≥–∏—á–Ω—ã–º –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º –æ–±—É—á–µ–Ω–∏—è, –∞ –Ω–µ ¬´–≤–æ–∑—å–º–∏ –∏ –ø–ª–∞—Ç–∏ –Ω–∏ –∑–∞ —á—Ç–æ¬ª.\n\n"
            "–ß–µ–º –ø–æ–Ω—è—Ç–Ω–µ–µ –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞ ‚Äî —Ç–µ–º –≤—ã—à–µ –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –æ–ø–ª–∞—Ç—É.",
        ],
    ),

    "t4_scaling": (
        "–ú–æ–¥—É–ª—å 4. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
        [
            "üìà <b>–£—Ä–æ–∫ 1. –ö–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫</b>\n\n"
            "–ö–æ–≥–¥–∞ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –ø–µ—Ä–≤—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –∏ –æ–ø–ª–∞—Ç—ã, –∑–∞–¥–∞—á–∞ ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.\n\n"
            "–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:\n"
            "‚Ä¢ –∑–∞–≤–æ–¥–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (–Ω–æ –Ω–µ –¥–µ–ª–∞—Ç—å –∫–ª–æ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–Ω–æ –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–∞–≤–∏–ª–∞);\n"
            "‚Ä¢ –ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: –±—ã—Å—Ç—Ä—ã–µ —Å–æ–≤–µ—Ç—ã, —Å—Ç–æ—Ä–∏—Ç–µ–ª–ª–∏–Ω–≥, —Ä–∞–∑–±–æ—Ä—ã –æ—à–∏–±–æ–∫;\n"
            "‚Ä¢ –ø–µ—Ä–µ—Å–Ω–∏–º–∞—Ç—å —É–¥–∞—á–Ω—ã–µ —Ç–µ–º—ã –ø–æ–¥ –¥—Ä—É–≥–∏–º —É–≥–ª–æ–º.\n\n"
            "–í–∞–∂–Ω–æ ‚Äî –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è —Å—Ä–∞–∑—É –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤–µ—Å—å TikTok. –°–Ω–∞—á–∞–ª–∞ –æ—Ç—Å—Ç—Ä–æ–π —Å–≤–æ—é –ø–æ–¥–∞—á—É –∏ –ø–æ–π–º–∏, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ü–µ–ø–ª—è–µ—Ç —Ç–≤–æ—é –∞—É–¥–∏—Ç–æ—Ä–∏—é.",

            "üìà <b>–£—Ä–æ–∫ 2. –ê–Ω—Ç–∏–±–∞–Ω –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç–æ–≤</b>\n\n"
            "TikTok –Ω–µ –ª—é–±–∏—Ç —Å–∫–∞–º, –≥—Ä—É–±—ã–µ –æ–±–µ—â–∞–Ω–∏—è –∏ —Å–ø–∞–º.\n\n"
            "–ü—Ä–∞–≤–∏–ª–∞ –∞–Ω—Ç–∏–±–∞–Ω–∞:\n"
            "‚Ä¢ –Ω–µ –æ–±–µ—â–∞–π ¬´x100 –∑–∞ –Ω–µ–¥–µ–ª—é¬ª –∏ –ø—Ä–æ—á–∏–π –±—Ä–µ–¥;\n"
            "‚Ä¢ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π —Ä–æ–ª–∏–∫–∏ –ø—Ä—è–º—ã–º–∏ –ø—Ä–∏–∑—ã–≤–∞–º–∏ ¬´–∂–º–∏ —Å—é–¥–∞, —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è¬ª;\n"
            "‚Ä¢ –Ω–µ –¥—É–±–ª–∏—Ä—É–π –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ä–æ–ª–∏–∫ –Ω–∞ –¥–µ—Å—è—Ç–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –±—É–∫–≤–∞–ª—å–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.\n\n"
            "–¢—ã —Å—Ç—Ä–æ–∏—à—å —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≥–æ–¥—ã, –∞ –Ω–µ –ø—ã—Ç–∞–µ—à—å—Å—è –≤—ã–∂–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –∏–∑ –æ–¥–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é.",

            "üìà <b>–£—Ä–æ–∫ 3. –ö–∞–∫ —Å—á–∏—Ç–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏—é –∏ —Ç–æ—á–∫–∏ —Ä–æ—Å—Ç–∞</b>\n\n"
            "–¢—Ä–∏ –∫–ª—é—á–µ–≤—ã–µ —Ü–∏—Ñ—Ä—ã:\n"
            "1) –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Ä–æ–ª–∏–∫–æ–≤;\n"
            "2) –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å/–±–æ—Ç–∞;\n"
            "3) –æ–ø–ª–∞—Ç—ã –ø–∞–∫–µ—Ç–∞ 100$.\n\n"
            "–ï—Å–ª–∏ –º–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤, –Ω–æ –º–∞–ª–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫—Ä—é—á–∫–∞—Ö/–ø—Ä–∏–∑—ã–≤–∞—Ö –∏ –ø—Ä–æ—Ñ–∏–ª–µ.\n"
            "–ï—Å–ª–∏ –º–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –Ω–æ –º–∞–ª–æ –æ–ø–ª–∞—Ç ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–æ—Ç–∞ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–∏ –æ—Ñ—Ñ–µ—Ä–∞.\n\n"
            "–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´—Å–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–µ¬ª, –∞ —É–ª—É—á—à–∞—Ç—å –∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–æ–∫ —Ü–µ–ø–æ—á–∫–∏.",

            "üìà <b>–£—Ä–æ–∫ 4. –ö–∞–∫ –Ω–µ –ø–µ—Ä–µ–≥–æ—Ä–µ—Ç—å</b>\n\n"
            "–¢—Ä–∞—Ñ–∏–∫ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ –º–∞—Ä–∞—Ñ–æ–Ω.\n\n"
            "–ß—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥–æ—Ä–µ—Ç—å:\n"
            "‚Ä¢ –Ω–µ –ø—ã—Ç–∞–π—Å—è –∫–∞–∂–¥—ã–π —Ä–æ–ª–∏–∫ —Å–¥–µ–ª–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º ‚Äî –ª—É—á—à–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, —á–µ–º –ø–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º;\n"
            "‚Ä¢ –ø–ª–∞–Ω–∏—Ä—É–π —Å—ä—ë–º–∫—É –∑–∞—Ä–∞–Ω–µ–µ, —Å–Ω–∏–º–∞–π –ø–∞—Ä—Ç–∏—è–º–∏;\n"
            "‚Ä¢ –¥–µ–ª–∞–π –ø–µ—Ä–µ—Ä—ã–≤—ã, –∫–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –≤—ã–≥–æ—Ä–∞–µ—à—å.\n\n"
            "–ö–æ–≥–¥–∞ —É —Ç–µ–±—è –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –∏ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ, –∏ –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ, –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ø–æ–∫–æ–π–Ω–µ–µ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–µ–µ.",
        ],
    ),
}



# ---------------------------------------------------------------------------
# –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–û–ï
# ---------------------------------------------------------------------------


def normalize_amount_str(amount: float) -> str:
    """
    –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Å—É–º–º—É –¥–æ 3 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –∫–∞–∫ —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º.
    """
    return str(Decimal(str(amount)).quantize(Decimal("0.000"), rounding=ROUND_DOWN))


async def check_trongrid_payment(purchase_id: int) -> str or None:
    """
    –ü—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –ø–æ–¥ –ø–æ–∫—É–ø–∫—É.
    –í–æ–∑–≤—Ä–∞—â–∞–µ–º tx_id, –µ—Å–ª–∏ –Ω–∞—à–ª–∏, –∏–Ω–∞—á–µ None.
    """
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT user_id, amount, created_at, status, tx_id FROM purchases WHERE id = ?",
        (purchase_id,),
    )
    row = cur.fetchone()
    conn.close()

    if not row:
        return None

    user_db_id, amount, created_at_str, status, existing_tx = row

    if status == "paid" and existing_tx:
        return existing_tx

    amount_norm = normalize_amount_str(amount)
    created_at = datetime.strptime(created_at_str, "%Y-%m-%d %H:%M:%S")

    url = f"https://api.trongrid.io/v1/accounts/{WALLET_ADDRESS}/transactions/trc20"
    params = {
        "limit": 200,
        "contract_address": USDT_CONTRACT,
        "order_by": "block_timestamp,desc",
    }
    headers = {"TRON-PRO-API-KEY": TRONGRID_API_KEY}

    try:
        async with aiohttp.ClientSession() as session:
            async with session.get(url, params=params, headers=headers, timeout=15) as resp:
                if resp.status != 200:
                    logger.warning("TronGrid status %s", resp.status)
                    return None
                data = await resp.json()
    except Exception as e:
        logger.exception("Error calling TronGrid: %s", e)
        return None

    for tx in data.get("data", []):
        try:
            to_addr = tx.get("to")
            if to_addr != WALLET_ADDRESS:
                continue

            ts_ms = tx.get("block_timestamp")
            if not ts_ms:
                continue
            tx_time = datetime.utcfromtimestamp(ts_ms / 1000)

            # —Å–º–æ—Ç—Ä–∏–º —Ç–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ - 3 —á–∞—Å–∞ (–∑–∞–ø–∞—Å)
            if tx_time < created_at - timedelta(hours=3):
                continue

            value_raw = tx.get("value")
            if value_raw is None:
                continue

            value_dec = Decimal(str(value_raw)) / Decimal("1000000")  # 6 –∑–Ω–∞–∫–æ–≤ —É USDT
            value_norm = normalize_amount_str(value_dec)

            if value_norm == amount_norm:
                return tx.get("transaction_id")
        except Exception:
            continue

    return None


async def process_successful_payment(purchase_id: int, tx_id: str, auto: bool = True):
    """
    –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã: –ø–æ–º–µ—á–∞–µ–º –∑–∞–ø–∏—Å—å, –ø—Ä–æ–¥–ª–µ–≤–∞–µ–º —Å–∏–≥–Ω–∞–ª—ã,
    –Ω–∞—á–∏—Å–ª—è–µ–º –ø–∞—Ä—Ç–Ω—ë—Ä–∫—É (–µ—Å–ª–∏ —ç—Ç–æ –ø–∞–∫–µ—Ç), —Ä–∞—Å—Å—ã–ª–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
    """
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT p.id, p.user_id, u.user_id, u.first_name, p.amount, p.status, p.product_code "
        "FROM purchases p JOIN users u ON p.user_id = u.id WHERE p.id = ?",
        (purchase_id,),
    )
    row = cur.fetchone()

    if not row:
        conn.close()
        return

    _, user_db_id, buyer_tg_id, buyer_first_name, amount, status, product_code = row

    if status == "paid":
        conn.close()
        return

    mark_purchase_paid(purchase_id, tx_id)
    new_until = extend_signals(user_db_id, days=30)

    # –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞
    if product_code == "package":
        lvl1_id, lvl2_id = get_referrer_chain(user_db_id)
        lvl1_bonus = amount * LEVEL1_PERCENT
        lvl2_bonus = amount * LEVEL2_PERCENT

        if lvl1_id:
            add_balance(lvl1_id, lvl1_bonus)
        if lvl2_id:
            add_balance(lvl2_id, lvl2_bonus)

        # —É–≤–µ–¥–æ–º–ª—è–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
        if lvl1_id:
            cur.execute("SELECT user_id FROM users WHERE id = ?", (lvl1_id,))
            r1 = cur.fetchone()
            if r1:
                try:
                    await bot.send_message(
                        r1[0],
                        f"üí∞ <b>–ù–∞—á–∏—Å–ª–µ–Ω–æ {lvl1_bonus:.2f}$</b> –∑–∞ –ª–∏—á–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é.\n"
                        f"–¢–≤–æ–π –ø–∞—Ä—Ç–Ω—ë—Ä {buyer_first_name} –æ–ø–ª–∞—Ç–∏–ª –ø–∞–∫–µ—Ç –Ω–∞ {amount:.3f}$.",
                    )
                except Exception:
                    pass

        if lvl2_id:
            cur.execute("SELECT user_id FROM users WHERE id = ?", (lvl2_id,))
            r2 = cur.fetchone()
            if r2:
                try:
                    await bot.send_message(
                        r2[0],
                        f"üí∏ <b>–ù–∞—á–∏—Å–ª–µ–Ω–æ {lvl2_bonus:.2f}$</b> —Å–æ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.\n"
                        f"–ü–∞—Ä—Ç–Ω—ë—Ä –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –æ–ø–ª–∞—Ç–∏–ª –ø–∞–∫–µ—Ç –Ω–∞ {amount:.3f}$.",
                    )
                except Exception:
                    pass

    conn.close()

    # —É–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    try:
        prefix = "‚úÖ <b>–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!</b>\n\n" if auto else "‚úÖ <b>–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!</b>\n\n"
        text = (
            prefix +
            "–î–æ—Å—Ç—É–ø –∫ –æ–±—É—á–µ–Ω–∏—é –∏ –∫–∞–Ω–∞–ª—É —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –æ—Ç–∫—Ä—ã—Ç.\n"
            f"–¢–µ–∫—É—â–∏–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏–≥–Ω–∞–ª–∞–º –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: <b>{new_until.strftime('%d.%m.%Y %H:%M')}</b> (UTC).\n\n"
            "–í—Å–µ –Ω—É–∂–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é."
        )
        await bot.send_message(buyer_tg_id, text, reply_markup=main_menu())
        # —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
        try:
            invite_link = await bot.export_chat_invite_link(CHANNEL_ID)
            await bot.send_message(buyer_tg_id, "–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏:")
            await bot.send_message(buyer_tg_id, invite_link)
        except Exception as e:
            logger.exception("Error exporting channel link: %s", e)
    except Exception:
        pass


# ---------------------------------------------------------------------------
# –ö–õ–ê–í–ò–ê–¢–£–†–´  
# ---------------------------------------------------------------------------

def main_menu():
    kb = ReplyKeyboardMarkup(resize_keyboard=True)
    kb.row(KeyboardButton("üéì –û–±—É—á–µ–Ω–∏–µ —Ç—Ä–µ–π–¥–∏–Ω–≥—É"))
    kb.row(
        KeyboardButton("üìà –°–∏–≥–Ω–∞–ª—ã –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ"),
        KeyboardButton("üöÄ –û–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞"),
    )
    kb.row(
        KeyboardButton("üë• –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"),
        KeyboardButton("üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"),
    )
    kb.row(KeyboardButton("üí∞ –ü–æ–º–æ–≥—É —Ç–µ–±–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å"))
    kb.row(KeyboardButton("üì© –ü–æ–¥–¥–µ—Ä–∂–∫–∞"))
    return kb



def training_menu_keyboard(course: str):
    kb = InlineKeyboardMarkup()
    kb.add(InlineKeyboardButton("‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ", callback_data=f"train_start:{course}"))
    kb.add(InlineKeyboardButton("üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞", callback_data=f"train_structure:{course}"))
    kb.add(InlineKeyboardButton("‚¨ÖÔ∏è –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="back_main"))
    return kb


def modules_keyboard(course: str):
    kb = InlineKeyboardMarkup()
    course_dict = COURSE_CRYPTO if course == "crypto" else COURSE_TRAFFIC
    for key, (title, lessons) in course_dict.items():
        kb.add(InlineKeyboardButton(title, callback_data=f"module:{course}:{key}:0"))
    kb.add(InlineKeyboardButton("‚¨ÖÔ∏è –í –º–µ–Ω—é –æ–±—É—á–µ–Ω–∏—è", callback_data=f"back_training:{course}"))
    return kb


def lesson_nav_keyboard(course: str, module_key: str, index: int, last: bool):
    course_dict = COURSE_CRYPTO if course == "crypto" else COURSE_TRAFFIC
    keys = list(course_dict.keys())
    current_pos = keys.index(module_key)
    has_next_module = current_pos < len(keys) - 1

    kb = InlineKeyboardMarkup()
    if index > 0:
        kb.insert(InlineKeyboardButton(
            "‚¨ÖÔ∏è –ù–∞–∑–∞–¥",
            callback_data=f"lesson:{course}:{module_key}:{index - 1}",
        ))
    if not last:
        kb.insert(InlineKeyboardButton(
            "–î–∞–ª—å—à–µ ‚ñ∂Ô∏è",
            callback_data=f"lesson:{course}:{module_key}:{index + 1}",
        ))
    elif has_next_module:
        kb.insert(InlineKeyboardButton(
            "–°–ª–µ–¥—É—é—â–∏–π –º–æ–¥—É–ª—å ‚ñ∂Ô∏è",
            callback_data=f"next_module:{course}:{module_key}",
        ))

    kb.add(InlineKeyboardButton("üèÅ –ú–µ–Ω—é –æ–±—É—á–µ–Ω–∏—è", callback_data=f"back_training:{course}"))
    return kb


def pay_keyboard(purchase_id: int):
    kb = InlineKeyboardMarkup()
    kb.add(InlineKeyboardButton("‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª", callback_data=f"paid:{purchase_id}"))
    kb.add(InlineKeyboardButton("üßæ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω—É –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É", callback_data=f"send_admin:{purchase_id}"))
    kb.add(InlineKeyboardButton("‚¨ÖÔ∏è –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="back_main"))
    return kb


# ---------------------------------------------------------------------------
# –û–ë–£–ß–ï–ù–ò–ï (–ì–ï–ô–¢ –ü–û –ü–ê–ö–ï–¢–£)
# ---------------------------------------------------------------------------

async def send_package_payment_instructions(message: types.Message, user_db_id: int):
    purchase_id = create_purchase(user_db_id, "package", PRICE_PACKAGE)

    conn = db_connect()
    cur = conn.cursor()
    cur.execute("SELECT amount FROM purchases WHERE id = ?", (purchase_id,))
    amount = cur.fetchone()[0]
    conn.close()

    description = (
        "üíº <b>–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∑–∞ –æ–¥–∏–Ω –ø–ª–∞—Ç—ë–∂ 100$</b>\n\n"
        "–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å:\n"
        "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞;\n"
        "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞ –∏–∑ TikTok –≤ Telegram;\n"
        "‚Ä¢ –¥–æ—Å—Ç—É–ø –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –Ω–∞ 1 –º–µ—Å—è—Ü;\n"
        "‚Ä¢ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –≤—ã–ø–ª–∞—Ç–∞–º–∏ 50% / 10%.\n\n"
        "–í—Å—ë —ç—Ç–æ –ø–æ–∫—É–ø–∞–µ—Ç—Å—è <b>–æ–¥–Ω–∏–º –ø–ª–∞—Ç–µ–∂–æ–º</b>."
    )

    pay_text = (
        f"{description}\n\n"
        f"<b>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ (USDT TRC20):</b> <code>{amount:.3f}$</code>\n"
        f"<b>–ö–æ—à–µ–ª—ë–∫:</b> <code>{WALLET_ADDRESS}</code>\n\n"
        "–û—Ç–ø—Ä–∞–≤—å <b>—Ç–æ—á–Ω–æ —ç—Ç—É —Å—É–º–º—É</b> –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ—à–µ–ª—ë–∫.\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏ ¬´–Ø –æ–ø–ª–∞—Ç–∏–ª¬ª ‚Äî –±–æ—Ç –ø–æ–ø—Ä–æ–±—É–µ—Ç –Ω–∞–π—Ç–∏ –æ–ø–ª–∞—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.\n"
        "–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω—É –Ω–∞ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É."
    )

    await message.answer(pay_text, reply_markup=pay_keyboard(purchase_id))

@dp.message_handler(lambda m: m.text == "üí∞ –ü–æ–º–æ–≥—É —Ç–µ–±–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å")
async def help_you_earn(message: types.Message):
    if is_spam(message.from_user.id):
        return

    text = (
        "üí∞ <b>–ü–æ–º–æ–≥—É —Ç–µ–±–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –≤ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ</b>\n\n"
        "–ó–∞–¥–∞—á–∞ —ç—Ç–æ–≥–æ –±–æ—Ç–∞ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∞—Ç—å —Ç–µ–±–µ —Ç–µ–æ—Ä–∏—é, –∞ –ø–æ–∫–∞–∑–∞—Ç—å —Ç—Ä–∏ –ø–æ–Ω—è—Ç–Ω—ã—Ö –ø—É—Ç–∏:\n\n"
        "1Ô∏è‚É£ <b>–ö–∞–∫ –ª–µ–≥–∫–æ –æ—Ç–±–∏—Ç—å 100$</b>\n"
        "–¢—ã –ø–ª–∞—Ç–∏—à—å –∑–∞ –¥–æ—Å—Ç—É–ø, –Ω–æ —É —Ç–µ–±—è –µ—Å—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞ 50% / 10%.\n\n"
        "–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:\n"
        "‚Ä¢ —Ç—ã –ø—Ä–∏–≤—ë–ª –≤—Å–µ–≥–æ –¥–≤—É—Ö —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫ –∂–µ –æ–ø–ª–∞—Ç–∏–ª–∏ –¥–æ—Å—Ç—É–ø –ø–æ 100$;\n"
        "‚Ä¢ —Å –∫–∞–∂–¥–æ–≥–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –ø–æ 50$ (50% —Å –ª–∏—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏);\n"
        "üëâ –∏—Ç–æ–≥–æ 100$ ‚Äî —Ç—ã —É–∂–µ –æ—Ç–±–∏–ª —Å–≤–æ—é –æ–ø–ª–∞—Ç—É.\n\n"
        "–î–∞–ª—å—à–µ –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫ ‚Äî —ç—Ç–æ —É–∂–µ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –¥–ª—è —Ç–µ–±—è.\n\n"
        "2Ô∏è‚É£ <b>–ö–∞–∫ –Ω–∞—á–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Å –Ω—É–ª—è</b>\n"
        "–í–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞ —É —Ç–µ–±—è –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—É—á–µ–Ω–∏—è –ø–æ –∫—Ä–∏–ø—Ç–µ:\n"
        "‚Ä¢ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ –º—ã—à–ª–µ–Ω–∏–µ —Ç—Ä–µ–π–¥–µ—Ä–∞;\n"
        "‚Ä¢ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç ‚Äî –∫–∞–∫ –Ω–µ —Å–ª–∏–≤–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç;\n"
        "‚Ä¢ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –≤–æ–¥—ã;\n"
        "‚Ä¢ –±–∞–∑–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –ø—Ä–∏–º–µ—Ä—ã —Å–¥–µ–ª–æ–∫;\n"
        "‚Ä¢ —Ñ—å—é—á–µ—Ä—Å—ã, –ø–ª–µ—á–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.\n\n"
        "–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –Ω–µ —É–≥–∞–¥–∞—Ç—å —Ä—ã–Ω–æ–∫, –∞ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —Å–∏—Å—Ç–µ–º–µ: –ø–æ–Ω–∏–º–∞—Ç—å, –≥–¥–µ –≤—Ö–æ–¥, –≥–¥–µ —Å—Ç–æ–ø, –≥–¥–µ –≤—ã—Ö–æ–¥ –∏ –∫–∞–∫–æ–π —É —Ç–µ–±—è —Ä–∏—Å–∫ –≤ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–µ.\n\n"
        "3Ô∏è‚É£ <b>–ö–∞–∫ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ –ø–µ—Ä–µ–ª–∏–≤–µ —Ç—Ä–∞—Ñ–∏–∫–∞</b>\n"
        "–û—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –æ–±—É—á–µ–Ω–∏—è –ø–æ TikTok –∏ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ:\n"
        "‚Ä¢ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–¥ –∫—Ä–∏–ø—Ç—É –∏ –¥–æ–≤–µ—Ä–∏–µ;\n"
        "‚Ä¢ —Å–Ω–∏–º–∞—Ç—å —Ä–æ–ª–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∂–∏–≤—ã—Ö –ª—é–¥–µ–π, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã;\n"
        "‚Ä¢ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤–æ—Ä–æ–Ω–∫—É: —Ä–æ–ª–∏–∫ ‚Üí –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –±–æ—Ç ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞.\n\n"
        "–¢—ã –º–æ–∂–µ—à—å:\n"
        "‚Ä¢ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –ª—é–¥–µ–π –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–µ, –≤–∏–¥—è —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–∏–±—ã–ª—å;\n"
        "‚Ä¢ –Ω–∞—á–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏ –∏ –ø—Ä–æ–∫–∞—á–∏–≤–∞—Ç—å –Ω–∞–≤—ã–∫ —Ç—Ä–µ–π–¥–∏–Ω–≥–∞;\n"
        "‚Ä¢ –∏–ª–∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–µ–ª–∏–≤–µ —Ç—Ä–∞—Ñ–∏–∫–∞, –µ—Å–ª–∏ —Ç–µ–±–µ –±–ª–∏–∂–µ —Å—Ç–æ—Ä–æ–Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.\n\n"
        "‚öôÔ∏è –î–∞–ª—å—à–µ –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞ –±—É–¥—É—Ç –æ—Ñ—Ñ–µ—Ä—ã –∏ –≥–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, —á—Ç–æ–±—ã —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–∑–Ω–∞–ª —Ç–µ–æ—Ä–∏—é¬ª, –∞ –º–æ–≥ —Å–æ–±—Ä–∞—Ç—å –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–±–æ—á—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥ —Å–µ–±—è.\n\n"
        "–í—ã–±–∏—Ä–∞–π, —Å —á–µ–≥–æ —Ç–µ–±–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ –Ω–∞—á–∞—Ç—å ‚Äî –æ–±—É—á–µ–Ω–∏–µ, —Å–∏–≥–Ω–∞–ª—ã –∏–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞ ‚Äî –∏ –¥–≤–∏–≥–∞–π—Å—è —à–∞–≥ –∑–∞ —à–∞–≥–æ–º üí™"
    )

    await message.answer(text, reply_markup=main_menu())



@dp.message_handler(lambda m: m.text == "üìö –û–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ")
async def training_crypto_menu(message: types.Message):
    if is_spam(message.from_user.id):
        return

    user_row = get_user_by_tg(message.from_user.id)
    if not user_row:
        user_db_id = get_or_create_user(message)
    else:
        user_db_id = user_row[0]

    if not has_paid_package(user_db_id):
        await send_package_payment_instructions(message, user_db_id)
        return

    await message.answer(
        "üìö <b>–û–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ</b>\n\n"
        "–ë–∞–∑–∞ –ø–æ —Ä—ã–Ω–∫—É, –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏, —Ä–∏—Å–∫—É –∏ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.\n\n"
        "–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:",
        reply_markup=training_menu_keyboard("crypto"),
    )


@dp.message_handler(lambda m: m.text == "üöÄ –û–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞")
async def training_traffic_menu(message: types.Message):
    if is_spam(message.from_user.id):
        return

    user_row = get_user_by_tg(message.from_user.id)
    if not user_row:
        user_db_id = get_or_create_user(message)
    else:
        user_db_id = user_row[0]

    if not has_paid_package(user_db_id):
        await send_package_payment_instructions(message, user_db_id)
        return

    await message.answer(
        "üöÄ <b>–û–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞</b>\n\n"
        "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≤–µ—Å—Ç–∏ TikTok –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –ª—é–¥–µ–π –≤ –±–æ—Ç–∞.\n\n"
        "–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:",
        reply_markup=training_menu_keyboard("traffic"),
    )


async def ensure_paid_package_for_callback(call: CallbackQuery) -> bool:
    user_row = get_user_by_tg(call.from_user.id)
    if not user_row or not has_paid_package(user_row[0]):
        await call.answer("–û–±—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–∞–∫–µ—Ç–∞ –∑–∞ 100$.", show_alert=True)
        return False
    return True


@dp.callback_query_handler(lambda c: c.data.startswith("back_training:"))
async def cb_back_training(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course = call.data.split(":")
    if course == "crypto":
        text = "üìö <b>–û–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ</b>\n\n–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:"
    else:
        text = "üöÄ <b>–û–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞</b>\n\n–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:"
    await call.message.answer(text, reply_markup=training_menu_keyboard(course))
    await call.answer()


@dp.callback_query_handler(lambda c: c.data.startswith("train_structure:"))
async def cb_train_structure(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course = call.data.split(":")
    if course == "crypto":
        course_dict = COURSE_CRYPTO
        title = "üìö <b>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ –ø–æ –∫—Ä–∏–ø—Ç–µ:</b>\n"
    else:
        course_dict = COURSE_TRAFFIC
        title = "üìö <b>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É:</b>\n"

    lines = [title]
    for key, (mod_title, lessons) in course_dict.items():
        lines.append(f"‚Ä¢ {mod_title} ‚Äî {len(lessons)} —É—Ä–æ–∫(–æ–≤)")
    lines.append("\n–í—ã–±–µ—Ä–∏ –º–æ–¥—É–ª—å –Ω–∏–∂–µ –∏–ª–∏ –Ω–∞–∂–º–∏ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ¬ª –≤ –º–µ–Ω—é.")

    await call.message.answer("\n".join(lines), reply_markup=modules_keyboard(course))
    await call.answer()


@dp.callback_query_handler(lambda c: c.data.startswith("train_start:"))
async def cb_train_start(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course = call.data.split(":")
    user_id = call.from_user.id

    course_dict = COURSE_CRYPTO if course == "crypto" else COURSE_TRAFFIC
    keys = list(course_dict.keys())

    module_key, lesson_index = get_progress(user_id, course)
    if not module_key or module_key not in course_dict:
        module_key = keys[0]
        lesson_index = 0

    await send_lesson(call.message, user_id, course, module_key, lesson_index)
    await call.answer()


@dp.callback_query_handler(lambda c: c.data.startswith("module:"))
async def cb_module(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course, module_key, idx = call.data.split(":")
    await send_lesson(call.message, call.from_user.id, course, module_key, int(idx))
    await call.answer()


@dp.callback_query_handler(lambda c: c.data.startswith("lesson:"))
async def cb_lesson(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course, module_key, idx = call.data.split(":")
    await send_lesson(call.message, call.from_user.id, course, module_key, int(idx))
    await call.answer()


@dp.callback_query_handler(lambda c: c.data.startswith("next_module:"))
async def cb_next_module(call: CallbackQuery):
    if not await ensure_paid_package_for_callback(call):
        return

    _, course, module_key = call.data.split(":")
    course_dict = COURSE_CRYPTO if course == "crypto" else COURSE_TRAFFIC
    keys = list(course_dict.keys())
    pos = keys.index(module_key)

    if pos < len(keys) - 1:
        next_key = keys[pos + 1]
        await send_lesson(call.message, call.from_user.id, course, next_key, 0)

    await call.answer()


async def send_lesson(message: types.Message, user_id: int, course: str, module_key: str, index: int):
    course_dict = COURSE_CRYPTO if course == "crypto" else COURSE_TRAFFIC
    if module_key not in course_dict:
        return

    title, lessons = course_dict[module_key]
    index = max(0, min(index, len(lessons) - 1))
    last = index == len(lessons) - 1

    header = f"üéì <b>{title}</b>\n–£—Ä–æ–∫ {index + 1} –∏–∑ {len(lessons)}\n\n"
    text = header + lessons[index]
    kb = lesson_nav_keyboard(course, module_key, index, last)

    set_progress(user_id, course, module_key, index)
    await message.answer(text, reply_markup=kb)


# ---------------------------------------------------------------------------
# /START
# ---------------------------------------------------------------------------

@dp.message_handler(commands=["start"])
async def cmd_start(message: types.Message):
    if is_spam(message.from_user.id):
        return

    # —Ä–µ—Ñ–µ—Ä–∞–ª
    args = message.get_args()
    referrer_id = None
    if args.startswith("ref_"):
        try:
            referrer_tg_id = int(args.split("_", 1)[1])
            if referrer_tg_id != message.from_user.id:
                conn = db_connect()
                cur = conn.cursor()
                cur.execute("SELECT id FROM users WHERE user_id = ?", (referrer_tg_id,))
                row = cur.fetchone()
                conn.close()
                if row:
                    referrer_id = row[0]
        except Exception:
            pass

    user_db_id = get_or_create_user(message, referrer_id)
    has_package_flag = has_paid_package(user_db_id)

    me = await bot.get_me()
    ref_link = f"https://t.me/{me.username}?start=ref_{message.from_user.id}"

    if has_package_flag:
        text = (
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TradeX Partner Bot!</b>\n\n"
            "–¢—ã —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø: –æ–±—É—á–µ–Ω–∏–µ, —Å–∏–≥–Ω–∞–ª—ã –∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã.\n\n"
            "–¢–≤–æ—è –ª–∏—á–Ω–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:\n"
            f"<code>{ref_link}</code>\n\n"
            "–í—ã–±–∏—Ä–∞–π –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –Ω–∏–∂–µ üëá"
        )
    else:
        text = (
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TradeX Partner Bot!</b>\n\n"
            "–ó–¥–µ—Å—å —Ç—ã –ø–æ–ª—É—á–∏—à—å:\n"
            "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –∫—Ä–∏–ø—Ç–µ —Å –Ω—É–ª—è –¥–æ —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä—ã–Ω–∫–∞;\n"
            "‚Ä¢ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–µ–ª–∏–≤—É —Ç—Ä–∞—Ñ–∏–∫–∞ –∏–∑ TikTok –≤ Telegram;\n"
            "‚Ä¢ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –Ω–∞ –º–µ—Å—è—Ü;\n"
            "‚Ä¢ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É: <b>50%</b> —Å –ª–∏—á–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂ –∏ <b>10%</b> —Å–æ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.\n\n"
            "–í—Å—ë —ç—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –ø–ª–∞—Ç—ë–∂–æ–º <b>100$</b> (USDT TRC20).\n"
            "–ü–æ–ø–∞—Å—Ç—å –≤ –æ–ø–ª–∞—Ç—É –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª –æ–±—É—á–µ–Ω–∏—è –∏–ª–∏ —á–µ—Ä–µ–∑ ¬´üìà –°–∏–≥–Ω–∞–ª—ã –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ¬ª.\n\n"
            "–í—ã–±–∏—Ä–∞–π –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é üëá"
        )

    await message.answer(text, reply_markup=main_menu())


# ---------------------------------------------------------------------------
# –°–ò–ì–ù–ê–õ–´ –ò –ü–†–û–î–õ–ï–ù–ò–ï
# ---------------------------------------------------------------------------

@dp.message_handler(lambda m: m.text == "üìà –°–∏–≥–Ω–∞–ª—ã –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ")
async def signals_handler(message: types.Message):
    if is_spam(message.from_user.id):
        return

    user_row = get_user_by_tg(message.from_user.id)
    if not user_row:
        user_db_id = get_or_create_user(message)
        user_row = get_user_by_tg(message.from_user.id)
    user_db_id = user_row[0]

    has_package_flag = has_paid_package(user_db_id)
    until = get_signals_until(user_db_id)

    if not has_package_flag:
        # –ø–µ—Ä–≤—ã–π –≤—Ö–æ–¥ ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–ø–ª–∞—Ç–∏—Ç—å –ø–∞–∫–µ—Ç 100$
        await send_package_payment_instructions(message, user_db_id)
        return

    now = datetime.utcnow()
    if until and until > now:
        text = (
            "‚úÖ –£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏–≥–Ω–∞–ª–∞–º.\n"
            f"–î–æ—Å—Ç—É–ø –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: <b>{until.strftime('%d.%m.%Y %H:%M')}</b> (UTC).\n\n"
            "–ü—Ä–æ–≤–µ—Ä—è–π –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª–µ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏."
        )
        await message.answer(text, reply_markup=main_menu())
        try:
            invite_link = await bot.export_chat_invite_link(CHANNEL_ID)
            await message.answer("–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏:")
            await message.answer(invite_link)
        except Exception as e:
            logger.exception("Error exporting channel link: %s", e)
        return

    # –¥–æ—Å—Ç—É–ø–∞ –Ω–µ—Ç, –Ω–æ –ø–∞–∫–µ—Ç —É–∂–µ –µ—Å—Ç—å ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –∑–∞ 50$
    purchase_id = create_purchase(user_db_id, "renewal", PRICE_RENEWAL)
    conn = db_connect()
    cur = conn.cursor()
    cur.execute("SELECT amount FROM purchases WHERE id = ?", (purchase_id,))
    amount = cur.fetchone()[0]
    conn.close()

    text = (
        "‚è≥ –°—Ä–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–∞–Ω–∞–ª —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –∏—Å—Ç—ë–∫.\n\n"
        "–¢—ã –º–æ–∂–µ—à—å –ø—Ä–æ–¥–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø –µ—â—ë –Ω–∞ <b>1 –º–µ—Å—è—Ü</b> –∑–∞ <b>50$</b>.\n\n"
        f"<b>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ (USDT TRC20):</b> <code>{amount:.3f}$</code>\n"
        f"<b>–ö–æ—à–µ–ª—ë–∫:</b> <code>{WALLET_ADDRESS}</code>\n\n"
        "–û—Ç–ø—Ä–∞–≤—å <b>—Ç–æ—á–Ω–æ —ç—Ç—É —Å—É–º–º—É</b> –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ—à–µ–ª—ë–∫.\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏ ¬´–Ø –æ–ø–ª–∞—Ç–∏–ª¬ª ‚Äî –±–æ—Ç –ø–æ–ø—Ä–æ–±—É–µ—Ç –Ω–∞–π—Ç–∏ –æ–ø–ª–∞—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."
    )

    await message.answer(text, reply_markup=pay_keyboard(purchase_id))


# ---------------------------------------------------------------------------
# –û–ü–õ–ê–¢–ê: –ê–í–¢–û –ò –†–£–ß–ù–ê–Ø
# ---------------------------------------------------------------------------

@dp.callback_query_handler(lambda c: c.data.startswith("paid:"))
async def cb_paid(call: CallbackQuery):
    """
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª ¬´–Ø –æ–ø–ª–∞—Ç–∏–ª¬ª. –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –æ–ø–ª–∞—Ç—É –∞–≤—Ç–æ–º–∞—Ç–æ–º.
    –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω—É.
    """
    _, purchase_id_str = call.data.split(":")
    purchase_id = int(purchase_id_str)

    tx_id = await check_trongrid_payment(purchase_id)
    if tx_id:
        await process_successful_payment(purchase_id, tx_id, auto=True)
        await call.answer("–û–ø–ª–∞—Ç–∞ –Ω–∞–π–¥–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ", show_alert=True)
        return

    # –∞–≤—Ç–æ –Ω–µ –Ω–∞—à–ª–∏ ‚Üí —Å–æ–∑–¥–∞—ë–º –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω—É
    await send_payment_request_to_admin(call.from_user.id, purchase_id)
    await call.message.answer(
        "–ù–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π—Ç–∏ –æ–ø–ª–∞—Ç—É.\n"
        "‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É, –æ–Ω –≤—Ä—É—á–Ω—É—é —Å–≤–µ—Ä–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.",
        reply_markup=main_menu(),
    )
    await call.answer("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω—É", show_alert=True)


@dp.callback_query_handler(lambda c: c.data.startswith("send_admin:"))
async def cb_send_admin(call: CallbackQuery):
    """
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ø—Ä–æ—Å–∏–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–ø–ª–∞—Ç—É –∞–¥–º–∏–Ω—É –Ω–∞ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É.
    """
    _, purchase_id_str = call.data.split(":")
    purchase_id = int(purchase_id_str)
    await send_payment_request_to_admin(call.from_user.id, purchase_id)
    await call.message.answer(
        "–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É ‚úÖ", reply_markup=main_menu()
    )
    await call.answer("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞", show_alert=True)


async def send_payment_request_to_admin(tg_user_id: int, purchase_id: int):
    conn = db_connect()
    cur = conn.cursor()
    cur.execute(
        "SELECT p.id, p.user_id, u.user_id, u.username, u.first_name, p.amount, p.status, p.product_code "
        "FROM purchases p JOIN users u ON p.user_id = u.id WHERE p.id = ?",
        (purchase_id,),
    )
    row = cur.fetchone()
    conn.close()

    if not row:
        return

    _, user_db_id, tg_id, username, first_name, amount, status, product_code = row

    if status == "paid":
        return

    user_mention = f"<a href='tg://user?id={tg_id}'>{first_name}</a>"
    uname = f"@{username}" if username else ""

    text_for_admin = (
        "üí≥ <b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –æ–ø–ª–∞—Ç—ã</b>\n\n"
        f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_mention} {uname}\n"
        f"Telegram ID: <code>{tg_id}</code>\n"
        f"ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î: <code>{user_db_id}</code>\n"
        f"–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞: <b>{'–ü–∞–∫–µ—Ç 100$' if product_code == 'package' else '–ü—Ä–æ–¥–ª–µ–Ω–∏–µ 50$'}</b>\n"
        f"–°—É–º–º–∞: <b>{amount:.3f}$</b>\n"
        f"ID –ø–æ–∫—É–ø–∫–∏: <code>{purchase_id}</code>\n\n"
        "–ï—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏—à–ª–∞ ‚Äì –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, –∏ –±–æ—Ç —Å–∞–º –≤—Å—ë –Ω–∞—á–∏—Å–ª–∏—Ç."
    )

    kb = InlineKeyboardMarkup()
    kb.add(InlineKeyboardButton("‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É", callback_data=f"confirm:{purchase_id}"))

    try:
        await bot.send_message(ADMIN_ID, text_for_admin, reply_markup=kb)
    except Exception as e:
        logger.exception("Error sending payment request to admin: %s", e)


@dp.callback_query_handler(lambda c: c.data.startswith("confirm:"))
async def cb_confirm_payment(call: CallbackQuery):
    if call.from_user.id != ADMIN_ID:
        await call.answer("–ù–µ—Ç –ø—Ä–∞–≤", show_alert=True)
        return

    _, purchase_id_str = call.data.split(":")
    purchase_id = int(purchase_id_str)

    await process_successful_payment(purchase_id, tx_id="admin_manual", auto=False)
    await call.answer("–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ ‚úÖ", show_alert=True)
    await call.message.edit_reply_markup()


# ---------------------------------------------------------------------------
# –ü–ê–†–¢–ù–Å–†–ö–ê –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê
# ---------------------------------------------------------------------------

@dp.message_handler(lambda m: m.text == "üë• –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞")
async def partners_handler(message: types.Message):
    if is_spam(message.from_user.id):
        return

    user = get_user_by_tg(message.from_user.id)
    if not user:
        get_or_create_user(message)
        user = get_user_by_tg(message.from_user.id)

    user_db_id, _, username, first_name, _, balance, total_earned = user

    if not has_paid_package(user_db_id):
        await message.answer(
            "–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞ –∑–∞ 100$.\n\n"
            "–û—Ñ–æ—Ä–º–∏ –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª –æ–±—É—á–µ–Ω–∏—è –∏–ª–∏ ¬´üìà –°–∏–≥–Ω–∞–ª—ã –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ¬ª, –∞ –ø–æ—Ç–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è —Å—é–¥–∞.",
            reply_markup=main_menu(),
        )
        return

    me = await bot.get_me()
    ref_link = f"https://t.me/{me.username}?start=ref_{message.from_user.id}"

    text = (
        "üë• <b>–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ TradeX</b>\n\n"
        "–¢—ã –º–æ–∂–µ—à—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö –Ω–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞:\n"
        "‚Ä¢ <b>50%</b> —Å –∫–∞–∂–¥–æ–π –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Ç–≤–æ–µ–π —Å—Å—ã–ª–∫–µ.\n"
        "‚Ä¢ <b>10%</b> —Å –ø—Ä–æ–¥–∞–∂ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.\n\n"
        "–ü—Ä–∏–º–µ—Ä:\n"
        "–¢—ã –ø—Ä–∏–≤—ë–ª –¥—Ä—É–≥–∞ ‚Äì –æ–Ω –∫—É–ø–∏–ª –ø–∞–∫–µ—Ç –∑–∞ 100$ ‚Üí —Ç—ã –ø–æ–ª—É—á–∏–ª 50$.\n"
        "–î—Ä—É–≥ –ø—Ä–∏–≤—ë–ª –µ—â—ë —á–µ–ª–æ–≤–µ–∫–∞ ‚Üí –æ–Ω –ø–æ–ª—É—á–∏–ª 50$, –∞ —Ç—ã +10$ —Å–≤–µ—Ä—Ö—É.\n\n"
        "–¢–≤–æ—è –ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞:\n"
        f"<code>{ref_link}</code>\n\n"
        f"–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∫ –≤—ã–≤–æ–¥—É: <b>{balance:.2f}$</b>\n"
        f"–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <b>{total_earned:.2f}$</b>\n\n"
        "–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ù–∞–ø–∏—à–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—à—å –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–∏–±—ã–ª—å."
    )

    await message.answer(text, reply_markup=main_menu())


@dp.message_handler(lambda m: m.text == "üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
async def my_stats(message: types.Message):
    if is_spam(message.from_user.id):
        return

    user = get_user_by_tg(message.from_user.id)
    if not user:
        await message.answer("–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö. –ù–∞–∂–º–∏ /start, —á—Ç–æ–±—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.", reply_markup=main_menu())
        return

    user_db_id = user[0]

    conn = db_connect()
    cur = conn.cursor()

    cur.execute("SELECT COUNT(*) FROM users WHERE referrer_id = ?", (user_db_id,))
    lvl1_count = cur.fetchone()[0]

    cur.execute(
        "SELECT COUNT(*) FROM users WHERE referrer_id IN (SELECT id FROM users WHERE referrer_id = ?)",
        (user_db_id,),
    )
    lvl2_count = cur.fetchone()[0]

    conn.close()

    _, _, username, first_name, _, balance, total_earned = user

    text = (
        "üìä <b>–¢–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n\n"
        f"–ò–º—è: <b>{first_name}</b>\n"
        f"–õ–æ–≥–∏–Ω: @{username if username else '‚Äî'}\n\n"
        f"–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ 1 —É—Ä–æ–≤–Ω—è: <b>{lvl1_count}</b>\n"
        f"–ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤ 2 —É—Ä–æ–≤–Ω—è: <b>{lvl2_count}</b>\n\n"
        f"–ë–∞–ª–∞–Ω—Å –∫ –≤—ã–≤–æ–¥—É: <b>{balance:.2f}$</b>\n"
        f"–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <b>{total_earned:.2f}$</b>\n\n"
        "–ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –±–æ–ª—å—à–µ üí∏"
    )

    await message.answer(text, reply_markup=main_menu())


# ---------------------------------------------------------------------------
# –ü–û–î–î–ï–†–ñ–ö–ê –ò –ü–†–û–ß–ï–ï
# ---------------------------------------------------------------------------

@dp.message_handler(lambda m: m.text == "üì© –ü–æ–¥–¥–µ—Ä–∂–∫–∞")
async def support_handler(message: types.Message):
    if is_spam(message.from_user.id):
        return
    await message.answer(
        f"–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ–ø–ª–∞—Ç–µ –∏–ª–∏ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞ ‚Äì –ø–∏—à–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: {SUPPORT_CONTACT}",
        reply_markup=main_menu(),
    )


@dp.callback_query_handler(lambda c: c.data == "back_main")
async def cb_back_main(call: CallbackQuery):
    await call.message.answer("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –æ–±–Ω–æ–≤–ª–µ–Ω–æ üëá")
    await call.message.answer("–í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª:", reply_markup=main_menu())
    await call.answer()


@dp.message_handler(commands=["admin"])
async def cmd_admin(message: types.Message):
    if message.from_user.id != ADMIN_ID:
        return

    conn = db_connect()
    cur = conn.cursor()
    cur.execute("SELECT COUNT(*) FROM users")
    users_count = cur.fetchone()[0]

    cur.execute("SELECT COUNT(*) FROM purchases WHERE product_code='package' AND status='paid'")
    paid_packages = cur.fetchone()[0]

    cur.execute("SELECT SUM(amount) FROM purchases WHERE status='paid'")
    total_turnover = cur.fetchone()[0] or 0.0

    cur.execute("SELECT COUNT(*) FROM purchases WHERE status='pending'")
    pending_count = cur.fetchone()[0]

    conn.close()

    text = (
        "üõ† <b>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</b>\n\n"
        f"–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <b>{users_count}</b>\n"
        f"–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (100$): <b>{paid_packages}</b>\n"
        f"–û–±–æ—Ä–æ—Ç –ø–æ –≤—Å–µ–º –æ–ø–ª–∞—Ç–∞–º: <b>{total_turnover:.2f}$</b>\n"
        f"–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫ (pending): <b>{pending_count}</b>\n\n"
        "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –æ–ø–ª–∞—Ç—ã –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –∏–∑ –ª–∏—á–∫–∏, —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ –∑–∞—è–≤–∫–∞–º–∏."
    )

    await message.answer(text, reply_markup=main_menu())


@dp.message_handler()
async def fallback(message: types.Message):
    if is_spam(message.from_user.id):
        return
    await message.answer("–ù–µ –ø–æ–Ω—è–ª —Å–æ–æ–±—â–µ–Ω–∏–µ ü§î\n–í—ã–±–µ—Ä–∏ –ø—É–Ω–∫—Ç –≤ –º–µ–Ω—é –Ω–∏–∂–µ.", reply_markup=main_menu())


# ---------------------------------------------------------------------------
# –§–û–ù: –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–†–û–°–†–û–ß–ï–ù–ù–´–• –°–ò–ì–ù–ê–õ–û–í (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
# ---------------------------------------------------------------------------

async def signals_watcher():
    while True:
        try:
            now = datetime.utcnow()
            now_str = now.strftime("%Y-%m-%d %H:%M:%S")
            conn = db_connect()
            cur = conn.cursor()
            cur.execute(
                "SELECT sa.user_id, u.user_id "
                "FROM signals_access sa JOIN users u ON sa.user_id = u.id "
                "WHERE sa.active_until IS NOT NULL AND sa.active_until < ?",
                (now_str,),
            )
            rows = cur.fetchall()
            conn.close()

            for user_db_id, tg_id in rows:
                try:
                    await bot.kick_chat_member(CHANNEL_ID, tg_id)
                    await bot.unban_chat_member(CHANNEL_ID, tg_id)
                except Exception:
                    pass
        except Exception as e:
            logger.exception("signals_watcher error: %s", e)

        await asyncio.sleep(3600)


async def on_startup(dp: Dispatcher):
    asyncio.create_task(signals_watcher())


# ---------------------------------------------------------------------------
# –ó–ê–ü–£–°–ö
# ---------------------------------------------------------------------------

if __name__ == "__main__":
    init_db()
    executor.start_polling(
        dp,
        skip_updates=True,
        on_startup=on_startup,
        allowed_updates=["message", "callback_query"],
    )

